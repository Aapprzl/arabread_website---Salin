<!DOCTYPE html>
<html lang="id">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarbiyyat al-Lughah</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<script>
    // CRITICAL: Theme Init moved to HEAD to prevent flicker
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
</script>
<link href="assets/css/styles.css" rel="stylesheet">
</head>

<body class="min-h-screen bg-white dark:bg-slate-950 flex flex-col items-center justify-center px-6 overflow-x-hidden transition-colors duration-500 selection:bg-blue-200 relative">

<!-- glow bg -->
<div class="fixed -top-20 -left-20 w-[60%] h-[60%] bg-blue-500/10 rounded-full blur-[120px] pointer-events-none z-0"></div>
<div class="fixed -bottom-20 -right-20 w-[60%] h-[60%] bg-emerald-500/10 rounded-full blur-[120px] pointer-events-none z-0"></div>

<!-- theme button -->
<button id="themeToggle"
class="fixed z-[9999] bottom-6 right-6 lg:top-8 lg:bottom-auto w-14 h-14 md:w-16 md:h-16 lg:w-12 lg:h-12 flex items-center justify-center rounded-2xl bg-white dark:bg-slate-900 text-slate-600 dark:text-yellow-400 border-2 border-slate-200 dark:border-slate-800 shadow-2xl transition-all active:scale-90 hover:scale-105">
<span id="themeIcon" class="text-2xl md:text-3xl lg:text-lg">ğŸŒ™</span>
</button>

<main class="max-w-7xl mx-auto w-full relative z-10 flex flex-col items-center justify-center flex-grow py-12 md:py-20 animate-fade-in">

<!-- HEADER -->
<div class="text-center mb-10 md:mb-16 w-full">

<h1 class="font-arab text-5xl sm:text-6xl md:text-8xl font-bold 
bg-gradient-to-b from-blue-600 to-blue-900 dark:from-blue-400 dark:to-blue-600 
bg-clip-text text-transparent leading-relaxed drop-shadow-xl py-2" style="font-family: 'Amiri', serif;">
ØªØ±Ø¨ÙŠØ© Ø§Ù„Ù„ØºØ©
</h1>

<div class="mt-2 space-y-2">
<p class="font-black text-slate-800 dark:text-white text-base sm:text-lg md:text-2xl uppercase tracking-[0.2em] sm:tracking-[0.3em] italic">
  Tarbiyyat <span class="text-blue-600">al-Lughah</span>
</p>
<p class="text-[10px] md:text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]">
  Media Pembelajaran Bahasa Arab Interaktif
</p>
</div>

<!-- typing badge -->
<div class="mt-6 md:mt-8 flex justify-center">
<div class="px-6 py-2 rounded-full bg-slate-100/80 dark:bg-slate-900/50 backdrop-blur-xl border border-slate-200 dark:border-slate-800 shadow-sm flex items-center gap-2">

<span id="typingText"
dir="auto"
class="text-slate-600 dark:text-slate-300 text-xs md:text-sm font-semibold tracking-wide min-h-[1.2rem]">
</span>

<span class="w-[2px] h-4 bg-blue-500 rounded-full animate-pulse"></span>

</div>
</div>

</div>

<!-- CARD GRID -->
<div class="w-full grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-8 pb-10" style="animation-delay: 0.3s;">

<!-- Pengunjung -->
<button onclick="selectRole('visitor','index.html')"
class="group relative flex flex-col items-center p-6 md:p-8 rounded-[2rem] bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 text-left h-full">
    <div class="absolute inset-0 bg-blue-500/0 group-hover:bg-blue-500/5 rounded-[2rem] transition-colors"></div>
    <div class="w-16 h-16 md:w-20 md:h-20 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸŒ</div>
    <h3 class="text-xl md:text-2xl font-black text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">Pengunjung</h3>
    <p class="text-sm text-slate-500 dark:text-slate-400 font-medium text-center leading-relaxed">Akses materi publik, kosa kata, dan game dasar tanpa login.</p>
</button>

<!-- Siswa -->
<button onclick="selectRole('student','dashboard-siswa.html')"
class="group relative flex flex-col items-center p-6 md:p-8 rounded-[2rem] bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 h-full">
    <div class="absolute inset-0 bg-emerald-500/0 group-hover:bg-emerald-500/5 rounded-[2rem] transition-colors"></div>
    <div class="w-16 h-16 md:w-20 md:h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸ“</div>
    <h3 class="text-xl md:text-2xl font-black text-slate-800 dark:text-white mb-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors">Siswa</h3>
    <p class="text-sm text-slate-500 dark:text-slate-400 font-medium text-center leading-relaxed">Login untuk akses materi lengkap, ujian, dan leaderboard.</p>
</button>

<!-- Guru -->
<button onclick="selectRole('teacher','dashboard-guru.html')"
class="group relative flex flex-col items-center p-6 md:p-8 rounded-[2rem] bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 h-full">
    <div class="absolute inset-0 bg-rose-500/0 group-hover:bg-rose-500/5 rounded-[2rem] transition-colors"></div>
    <div class="w-16 h-16 md:w-20 md:h-20 bg-rose-100 dark:bg-rose-900/30 rounded-2xl flex items-center justify-center text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸ‘¨â€ğŸ«</div>
    <h3 class="text-xl md:text-2xl font-black text-slate-800 dark:text-white mb-2 group-hover:text-rose-600 dark:group-hover:text-rose-400 transition-colors">Guru</h3>
    <p class="text-sm text-slate-500 dark:text-slate-400 font-medium text-center">Dashboard untuk mengelola siswa, materi, dan nilai.</p>
</button>

</div>

<p class="mt-12 text-slate-400 dark:text-slate-600 text-[10px] uppercase tracking-widest font-bold animate-fade-in" style="animation-delay: 0.6s;">
Silahkan pilih akses Anda untuk melanjutkan
</p>

</main>

<!-- ================= SCRIPT ================= -->

<script>
/* SMOOTH TYPING */
const texts=[
"Marhaban!",
"Ahlan wa Sahlan",
"Selamat Datang",
"Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ…",
"Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§",
"ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©",
"Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
"Belajar Bahasa Arab dengan Mudah",
"Mari Kuasai Bahasa Arab Bersama",
"Tempat Terbaik Belajar Bahasa Arab",
"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„ØºØ© Ø¬Ù…ÙŠÙ„Ø©",
"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…ÙØªØ§Ø­ Ø§Ù„Ø¹Ù„Ù…",
"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„ØºØ© Ø§Ù„Ù‚Ø±Ø¢Ù†",
"Selamat Belajar!",
"Semoga Sukses!",
"Ayo Mulai Sekarang!"
];

let textIndex=0;
let charIndex=0;
let deleting=false;

const typingSpeed=80;
const deletingSpeed=40;
const pauseEnd=1400;

const el=document.getElementById("typingText");

function typingLoop(){
 if(!el) return;

 const current=texts[textIndex];

 if(!deleting){
   el.textContent=current.slice(0,charIndex+1);
   charIndex++;
   if(charIndex===current.length){
     setTimeout(()=>deleting=true,pauseEnd);
   }
 } else {
   el.textContent=current.slice(0,charIndex-1);
   charIndex--;
   if(charIndex===0){
     deleting=false;
     textIndex=(textIndex+1)%texts.length;
   }
 }

 setTimeout(typingLoop,deleting?deletingSpeed:typingSpeed);
}

typingLoop();


/* THEME TOGGLE LOGIC (Post-Load) */
const toggle=document.getElementById("themeToggle");
const icon=document.getElementById("themeIcon");
const html=document.documentElement;

// Sync icon on load
if (html.classList.contains('dark')) {
  if(icon) icon.textContent="â˜€ï¸";
} else {
  if(icon) icon.textContent="ğŸŒ™";
}

toggle.onclick=()=>{
  if (html.classList.contains('dark')) {
    html.classList.remove('dark');
    localStorage.theme = 'light';
    icon.textContent="ğŸŒ™";
  } else {
    html.classList.add('dark');
    localStorage.theme = 'dark';
    icon.textContent="â˜€ï¸";
  }
};


/* ROLE */
window.selectRole=(role,url)=>{
 localStorage.setItem("arabread_role",role);
 document.body.classList.add("fade-out");
 setTimeout(()=>window.location.assign(url),300);
};
</script>

</body>
</html>
