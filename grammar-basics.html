<!DOCTYPE html>
<html lang="id" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tarbiyyat al-Lughah — Materi Gramatikal Dasar</title>

  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a'},
            secondary: {100:'#dcfce7',500:'#22c55e',600:'#16a34a'}
          },
          fontFamily: { arabic: ['Amiri','Scheherazade New','serif'] }
        }
      }
    }
  </script>
  <style>
    .arabic-text{ font-family:'Amiri','Scheherazade New',serif; direction: rtl; }
    .card3d{ perspective:1000px } /* hanya agar konsisten dengan style umum */
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50">

  <!-- Header -->
  <header class="bg-primary-600 text-white">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a href="index.html" class="inline-flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 19.5A2.5 2.5 0 0 0 6.5 22H20M4 19.5V5.75A2.75 2.75 0 0 1 6.75 3h10.5A2.75 2.75 0 0 1 20 5.75V22M4 19.5c0-1.38 1.12-2.5 2.5-2.5H20"/></svg>
        <span class="text-2xl font-bold">Tarbiyyat al-Lughah</span>
      </a>
      <nav class="hidden md:flex gap-6 text-white/90">
        <a href="index.html#materi" class="hover:text-white">Materi</a>
        <a href="index.html#tentang" class="hover:text-white">Tentang</a>
      </nav>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div class="max-w-6xl mx-auto px-4 py-3 text-sm text-slate-600">
    <a href="index.html" class="text-primary-700 hover:underline">Beranda</a>
    <span class="mx-2">/</span>
    <span class="font-medium">Materi Gramatikal Dasar</span>
  </div>

  <!-- Hero -->
  <section class="max-w-6xl mx-auto px-4">
    <div class="bg-white rounded-2xl shadow-lg p-6">
      <h1 class="text-2xl md:text-3xl font-bold text-primary-900">📘 Materi Gramatikal Dasar (Nahwu &amp; Shorof)</h1>
      <p class="mt-2 text-slate-700">
        Ringkasan konsep penting untuk pemula. Setiap kartu memuat istilah Arab, terjemah, penjelasan singkat, dan contoh berharakat.
        Gunakan kolom pencarian atau filter kategori untuk menemukan materi tertentu.
      </p>

      <!-- Filter bar -->
      <div class="mt-5 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div class="inline-flex rounded-lg overflow-hidden shadow-sm">
          <button id="tab-all" class="px-4 py-2 bg-primary-600 text-white font-semibold">Semua</button>
          <button id="tab-nahwu" class="px-4 py-2 bg-white text-slate-700 border border-slate-200">Nahwu</button>
          <button id="tab-shorof" class="px-4 py-2 bg-white text-slate-700 border border-slate-200">Shorof</button>
        </div>
        <div class="flex-1 md:max-w-sm">
          <label for="filter-input" class="sr-only">Cari materi</label>
          <input id="filter-input" type="text" placeholder="Cari: mubtada, maf‘ul, fa‘ala, masdar, dst."
                 class="w-full rounded-lg border border-slate-200 px-3 py-2 focus:ring-2 focus:ring-primary-400 outline-none"/>
        </div>
      </div>
    </div>
  </section>

  <!-- Cards -->
  <main class="max-w-6xl mx-auto px-4 py-8">
    <div id="cards-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"></div>

    <!-- Bottom nav -->
    <div class="mt-8 flex flex-wrap gap-3 justify-center">
      <a href="index.html" class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-800 font-semibold">← Kembali ke Beranda</a>
      <!-- Sesuaikan href di bawah jika perlu -->
      <a href="#grammar-cards" onclick="window.location='index.html#grammar-cards'; return false;"
         class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-semibold">Buka Kartu Flip</a>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-primary-800 text-white text-center py-6">
    <p>&copy; 2025 Tarbiyyat al-Lughah — Materi Gramatikal Dasar</p>
  </footer>

  <!-- DATA + RENDER -->
  <script>
  // Dataset materi (boleh kamu tambah)
  const MATERIALS = [
    // Nahwu
    {cat:'nahwu', term_ar:'اِسْمٌ', term_id:'Isim', explain_id:'Kata benda/nomina; tidak menunjukkan waktu.', example_ar:'هَذَا كِتَابٌ'},
    {cat:'nahwu', term_ar:'فِعْلٌ', term_id:'Fi‘il', explain_id:'Kata kerja; menunjukkan waktu (māḍī, muḍāri‘, amr).', example_ar:'قَرَأَ الطَّالِبُ الدَّرْسَ'},
    {cat:'nahwu', term_ar:'حَرْفٌ', term_id:'Harf', explain_id:'Partikel; makna lengkap bila bersama kata lain.', example_ar:'إِلَى الْمَدْرَسَةِ'},
    {cat:'nahwu', term_ar:'مُبْتَدَأٌ', term_id:'Mubtada’', explain_id:'Subjek dalam jumlah ismiyyah (biasanya marfū‘).', example_ar:'الطَّالِبُ مُجْتَهِدٌ'},
    {cat:'nahwu', term_ar:'خَبَرٌ', term_id:'Khabar', explain_id:'Predikat untuk mubtada’.', example_ar:'الْمُدَرِّسُ فِي الْفَصْلِ'},
    {cat:'nahwu', term_ar:'فَاعِلٌ', term_id:'Fā‘il', explain_id:'Pelaku perbuatan; biasanya marfū‘.', example_ar:'كَتَبَ الْوَلَدُ الدَّرْسَ'},
    {cat:'nahwu', term_ar:'مَفْعُولٌ بِهِ', term_id:'Maf‘ūl bih', explain_id:'Objek langsung fi‘il; biasanya manṣūb.', example_ar:'شَرِبْتُ الْمَاءَ'},
    {cat:'nahwu', term_ar:'مُضَافٌ / مُضَافٌ إِلَيْهِ', term_id:'Mudāf/Mudāf Ilaih', explain_id:'Kepemilikan (iḍāfah): A milik B.', example_ar:'كِتَابُ الطَّالِبِ'},
    {cat:'nahwu', term_ar:'جَارٌّ وَمَجْرُورٌ', term_id:'Jar–Majrūr', explain_id:'Harf jar + isim majrūr; sering jadi keterangan.', example_ar:'فِي الْمَكْتَبَةِ'},
    {cat:'nahwu', term_ar:'النَّعْتُ وَالْمَنْعُوتُ', term_id:'Na‘t–Man‘ūt', explain_id:'Sifat mengikuti i‘rab & jenis/bilangan yang disifati.', example_ar:'طَالِبٌ مُجْتَهِدٌ'},

    // Shorof
    {cat:'shorof', term_ar:'ثُلَاثِيٌّ مُجَرَّدٌ', term_id:'Tsulātsī mujarrad', explain_id:'Akar 3 huruf tanpa tambahan.', example_ar:'كَتَبَ – يَكْتُبُ – اُكْتُبْ'},
    {cat:'shorof', term_ar:'وَزْنُ فَعَلَ', term_id:'Wazan “fa‘ala”', explain_id:'Pola dasar tsulātsī.', example_ar:'فَعَلَ – يَفْعَلُ'},
    {cat:'shorof', term_ar:'وَزْنُ فَعَّلَ', term_id:'Wazan “fa‘‘ala”', explain_id:'Makna intensif/menjadikan.', example_ar:'عَلَّمَ – يُعَلِّمُ'},
    {cat:'shorof', term_ar:'وَزْنُ تَفَاعَلَ', term_id:'Wazan “tafā‘ala”', explain_id:'Saling/melakukan bersama.', example_ar:'تَعَاوَنَ – يَتَعَاوَنُ'},
    {cat:'shorof', term_ar:'اِسْمُ الْفَاعِلِ', term_id:'Ism fā‘il', explain_id:'Pelaku; pola “فَاعِلٌ”.', example_ar:'كَاتِبٌ'},
    {cat:'shorof', term_ar:'اِسْمُ الْمَفْعُولِ', term_id:'Ism maf‘ūl', explain_id:'Yang dikenai; pola “مَفْعُولٌ”.', example_ar:'مَكْتُوبٌ'},
    {cat:'shorof', term_ar:'مَصْدَرٌ', term_id:'Maṣdar', explain_id:'Kata dasar/nomina kejadian.', example_ar:'قِرَاءَةٌ'},
    {cat:'shorof', term_ar:'تَصْرِيفُ الْأَفْعَالِ', term_id:'Taṣrīf af‘āl', explain_id:'Perubahan fi‘il menurut waktu & ḍamīr.', example_ar:'أَقْرَأُ – نَقْرَأُ – يَقْرَأُ'},
    {cat:'shorof', term_ar:'جَمْعُ مُذَكَّرٍ سَالِمٌ', term_id:'Jamak mudzakkar salim', explain_id:'Jamak berakhiran ون/ين.', example_ar:'مُسْلِمُونَ / مُسْلِمِينَ'},
    {cat:'shorof', term_ar:'جَمْعُ مُؤَنَّثٍ سَالِمٌ', term_id:'Jamak muannats salim', explain_id:'Jamak berakhiran ات.', example_ar:'مُعَلِّمَاتٌ'},
  ];

  // Util: tipografi adaptif
  const stripHarakat = s => (s||'').replace(/[\u064B-\u065F\u0670]/g,'');
  const sizeAr = s => {
    const n = stripHarakat(s).length;
    if (n > 28) return 'text-base';
    if (n > 18) return 'text-lg';
    return 'text-2xl';
  };
  const sizeId = s => {
    const n = (s||'').length;
    if (n > 80) return 'text-xs';
    if (n > 56) return 'text-sm';
    if (n > 34) return 'text-base';
    return 'text-lg';
  };

  // State
  let activeTab = 'all'; // 'all' | 'nahwu' | 'shorof'
  let query = '';

  // Elements
  const grid = document.getElementById('cards-grid');
  const tabAll = document.getElementById('tab-all');
  const tabNah = document.getElementById('tab-nahwu');
  const tabSho = document.getElementById('tab-shorof');
  const input = document.getElementById('filter-input');

  function applyFilter(){
    let list = MATERIALS.slice();
    if (activeTab !== 'all') list = list.filter(m => m.cat === activeTab);
    if (query.trim()){
      const q = query.toLowerCase();
      list = list.filter(m =>
        m.term_id.toLowerCase().includes(q) ||
        stripHarakat(m.term_ar).includes(stripHarakat(q)) ||
        m.explain_id.toLowerCase().includes(q)
      );
    }
    return list;
  }

  function cardTemplate(m, idx){
    const id = `m-${m.cat}-${idx}`;
    return `
      <article class="bg-white rounded-2xl shadow-md border border-slate-100 overflow-hidden">
        <div class="p-5">
          <div class="flex items-start justify-between gap-3">
            <div>
              <div class="arabic-text ${sizeAr(m.term_ar)} font-bold text-primary-800 leading-relaxed">${m.term_ar}</div>
              <div class="mt-1 text-sm text-slate-600"><span class="font-semibold">${m.term_id}</span> • <span class="uppercase tracking-wide text-xs">${m.cat}</span></div>
            </div>
            <button class="px-3 py-1.5 rounded-lg bg-primary-50 text-primary-800 text-sm font-semibold hover:bg-primary-100 transition" data-toggle="${id}">
              Tampilkan detail
            </button>
          </div>

          <div id="${id}" class="mt-4 hidden">
            <p class="${sizeId(m.explain_id)} text-slate-800 leading-relaxed">${m.explain_id}</p>
            <div class="mt-3 p-3 rounded-xl bg-primary-50/60 border border-blue-100">
              <div class="text-xs text-slate-600 mb-1">Contoh:</div>
              <div class="arabic-text ${sizeAr(m.example_ar)} text-primary-900 leading-relaxed text-center">${m.example_ar}</div>
            </div>
          </div>
        </div>
      </article>
    `;
  }

  function render(){
    const list = applyFilter();
    grid.innerHTML = list.map((m,i) => cardTemplate(m,i)).join('') || `
      <div class="col-span-full text-center text-slate-500">Tidak ada materi yang cocok dengan pencarian.</div>
    `;

    // attach toggle listeners
    grid.querySelectorAll('[data-toggle]').forEach(btn => {
      btn.addEventListener('click', () => {
        const t = document.getElementById(btn.dataset.toggle);
        const hidden = t.classList.toggle('hidden');
        btn.textContent = hidden ? 'Tampilkan detail' : 'Sembunyikan';
      });
    });
  }

  // Tab switching
  function setTab(tab){
    activeTab = tab;
    tabAll.className = 'px-4 py-2 ' + (tab==='all' ? 'bg-primary-600 text-white font-semibold' : 'bg-white text-slate-700 border border-slate-200');
    tabNah.className = 'px-4 py-2 ' + (tab==='nahwu' ? 'bg-primary-600 text-white font-semibold' : 'bg-white text-slate-700 border border-slate-200');
    tabSho.className = 'px-4 py-2 ' + (tab==='shorof' ? 'bg-primary-600 text-white font-semibold' : 'bg-white text-slate-700 border border-slate-200');
    render();
  }

  tabAll.addEventListener('click', () => setTab('all'));
  tabNah.addEventListener('click', () => setTab('nahwu'));
  tabSho.addEventListener('click', () => setTab('shorof'));
  input.addEventListener('input', (e) => { query = e.target.value; render(); });

  // init
  setTab('all');
  </script>

</body>
</html>
