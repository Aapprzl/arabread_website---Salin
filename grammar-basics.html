<!DOCTYPE html>
<html lang="id" dir="ltr">

<script src="assets/data/materials.js"></script>

<script src="assets/data/vocabs.js"></script>


<script src="assets/theme.js"></script>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tarbiyyat al-Lughah ‚Äî Materi Gramatikal Dasar</title>


  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a'},
            secondary: {100:'#dcfce7',500:'#22c55e',600:'#16a34a'}
          },
          fontFamily: { arabic: ['Amiri','Scheherazade New','serif'] }
        }
      }
    }
  </script>
  <style>
    .arabic-text{ font-family:'Amiri','Scheherazade New',serif; direction: rtl; }
    .card3d{ perspective:1000px } /* hanya agar konsisten dengan style umum */

    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

  </style>

  <style>
  .tab-btn {
    padding: 0.625rem 1.25rem;
    border-radius: 9999px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    background-color: #ffffff;
    color: #64748b;
    border: 1px solid #e5e7eb;
    transition: all 0.2s ease;
  }

  .dark .tab-btn {
    background-color: #1e293b;
    color: #94a3b8;
    border-color: #334155;
  }
</style>


</head>
<body class="min-h-screen flex flex-col bg-slate-50 dark:bg-slate-800 dark:text-slate-100">


  <!-- Header -->
  <header class="sticky top-0 z-50 w-full bg-blue-700/95 dark:bg-slate-900/95 backdrop-blur-md text-white shadow-lg border-b border-white/10 transition-all">
  <div class="max-w-7xl mx-auto px-4 md:px-6 py-3.5 flex items-center justify-between">
    
    <div class="flex items-center gap-2 md:gap-4">
      <a href="index.html" class="p-2 hover:bg-white/10 rounded-xl transition-all group" title="Kembali ke Beranda">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-6 md:h-6 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
      </a>

      <div class="flex flex-col">
        <span class="text-lg md:text-xl font-black tracking-tight leading-none italic uppercase">Tarbiyyat</span>
        <span class="text-[9px] md:text-[10px] font-bold tracking-[0.2em] text-blue-200 uppercase leading-none mt-1">al-Lughah</span>
      </div>
    </div>

    <div class="flex items-center gap-3 md:gap-8">
      
      <nav class="hidden md:flex items-center gap-8">
        <a href="index.html#materi" class="text-sm font-bold text-white/80 hover:text-white transition-colors">Beranda</a>
        <div class="w-px h-4 bg-white/20"></div>
        <span class="text-sm font-bold text-yellow-300">Grammar Dasar</span>
      </nav>

      <button id="themeToggle"
        class="flex items-center justify-center w-9 h-9 md:w-10 md:h-10 rounded-xl 
               bg-white/10 hover:bg-white/20 border border-white/20
               transition-all active:scale-90 text-base md:text-lg shadow-sm"
        title="Ganti Tema">
        üåô
      </button>
    </div>

  </div>
</header>

  <!-- Breadcrumb -->
<nav class="max-w-6xl mx-auto px-6 py-4">
  <div class="flex items-center gap-2 text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-500">
    <a href="index.html" class="hover:text-blue-600 transition-colors">Beranda</a>
    <span>/</span>
    <span class="text-blue-600 dark:text-blue-400">Gramatikal Dasar</span>
  </div>
</nav>

  <!-- Hero -->
<div class="max-w-6xl mx-auto px-6 mb-12">
  <div class="mb-6">
    <h5 class="text-[10px] font-black uppercase tracking-[0.2em] text-blue-500 mb-3 ml-2">Tahap 1: Mengenal Kata (Al-Kalimah)</h5>
    <div class="flex flex-wrap gap-2">
      <button id="tab-isim" class="tab-btn">Isim</button>
      <button id="tab-fiil" class="tab-btn">Fi'il</button>
      <button id="tab-harf" class="tab-btn">Huruf</button>
      <button id="tab-shorof" class="tab-btn">Shorof Dasar</button>
    </div>
  </div>

  <div class="mb-6">
    <h5 class="text-[10px] font-black uppercase tracking-[0.2em] text-emerald-500 mb-3 ml-2">Tahap 2: Struktur Kalimat (Al-Jumlah)</h5>
    <div class="flex flex-wrap gap-2">
      <button id="tab-kaana" class="tab-btn">Kaana & Saudara</button>
      <button id="tab-inna" class="tab-btn">Inna & Saudara</button>
      <button id="tab-nida" class="tab-btn">Nida (Panggilan)</button>
      <button id="tab-maushul" class="tab-btn">Isim Maushul</button>
      <button id="tab-isyarah" class="tab-btn">Isim Isyarah</button>
    </div>
  </div>
</div>

  <!-- Cards -->
 <main class="max-w-6xl mx-auto px-4 py-8 flex-grow">
  
  <div id="cards-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 items-start">
    </div>

  <div class="mt-16 flex flex-col md:flex-row items-center justify-center gap-4 border-t border-slate-100 dark:border-slate-800/50 pt-10">
    
    <a href="index.html" 
       class="w-full md:w-auto flex items-center justify-center gap-3 px-6 py-3.5 rounded-2xl 
              bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold 
              border border-slate-200 dark:border-slate-700 shadow-sm
              hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95 text-sm uppercase tracking-widest">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
      Beranda
    </a>

    <a href="index.html#flashcards"
       class="w-full md:w-auto flex items-center justify-center gap-3 px-8 py-3.5 rounded-2xl 
              bg-blue-600 hover:bg-blue-700 text-white font-black 
              shadow-lg shadow-blue-500/25 transition-all active:scale-95 text-sm uppercase tracking-widest">
      <span>üÉè</span>
      Buka Kartu Flip
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 7l5 5m0 0l-5 5m5-5H6" />
      </svg>
    </a>

  </div>
  
  <div class="mt-10 text-center">
    <p class="text-[10px] font-bold text-slate-300 dark:text-slate-600 uppercase tracking-[0.5em]">
      Tarbiyyat al-Lughah &bull; Dasar Gramatikal
    </p>
  </div>
</main>

  <!-- Footer -->
  <footer class="bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 transition-colors mt-12">
  <div class="max-w-7xl mx-auto px-6 py-10">
    <div class="flex flex-col items-center text-center space-y-4">
      
      <div class="flex flex-col items-center gap-1 group">
        <span class="text-lg font-black tracking-tighter text-slate-800 dark:text-white uppercase italic">
          Tarbiyyat <span class="text-blue-600 dark:text-blue-400">al-Lughah</span>
        </span>
        <p class="text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest">
          Materi Gramatikal Dasar
        </p>
      </div>

      <div class="h-1 w-8 bg-blue-600 dark:bg-blue-400 rounded-full"></div>

      <div class="pt-4 flex flex-col items-center gap-3">
        <p class="text-xs text-slate-500 dark:text-slate-400 leading-relaxed font-medium">
          ¬© 2026 Tarbiyyat al-Lughah. All Rights Reserved.
        </p>
      
      </div>

    </div>
  </div>
</footer>

<style>
  /* Animasi & Tipografi */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fadeIn 0.4s ease-out forwards;
  }
  .font-arab { font-family: 'Amiri', serif; }
  
  /* Lock horizontal scroll */
  html, body { max-width: 100vw; overflow-x: hidden; }
</style>

<style>
  #cards-grid {
    display: grid;
    /* Mobile: 1 kolom, Tablet: 2 kolom, Desktop: 3 kolom */
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 1rem;
  }
  
  @media (min-width: 640px) {
    #cards-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }
  
  @media (min-width: 1024px) {
    #cards-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  }
</style>

<script>
  // 1. UTILITAS & TIPOGRAFI ADAPTIF
  const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');
  
  const sizeAr = s => {
    const n = stripHarakat(s).length;
    if (n > 28) return 'text-2xl';
    if (n > 18) return 'text-3xl';
    return 'text-4xl';
  };

  const sizeId = s => {
    const n = (s || '').length;
    return n > 80 ? 'text-sm' : 'text-base';
  };

  // 2. STATE MANAGEMENT
  let activeTab = 'all';
  let query = '';

  // 3. ELEMENTS
  const grid = document.getElementById('cards-grid');
  const input = document.getElementById('filter-input');
  // Pastikan ID tab di HTML Anda menggunakan format id="tab-nama"
  const getAllTabs = () => document.querySelectorAll('[id^="tab-"]');

  // 4. LOGIKA PENDUKUNG
  function normalizeText(str = '') {
    return stripHarakat(str).toLowerCase().replace(/[‚Äò‚Äô']/g, '').replace(/\s+/g, '');
  }

  function updateHeroProgress(tab) {
    const steps = {
      t1: ['all', 'isim', 'fiil', 'harf', 'shorof'],
      t2: ['kaana', 'inna', 'nida', 'maushul', 'isyarah', 'jar', 'syarth', 'istifham', 'zharf']
    };
    const heroSteps = document.querySelectorAll('.grid > div'); // Mengambil 3 kotak tahap di hero
    if (heroSteps.length < 3) return;

    heroSteps.forEach(s => s.classList.add('opacity-60'));
    if (steps.t1.includes(tab)) heroSteps[0].classList.remove('opacity-60');
    if (steps.t2.includes(tab)) heroSteps[1].classList.remove('opacity-60');
    // Tambahkan logika t3 jika kategori materi sudah ada
  }

  // 5. RENDER ENGINE
  function cardTemplate(m, idx) {
  const id = `m-${m.cat}-${idx}`;
  return `
    <article class="group bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700/50 overflow-hidden transition-all duration-300 hover:shadow-md h-fit">
      <div class="p-5 md:p-6">
        <div class="flex items-center justify-between gap-4">
          <div class="flex flex-col gap-1 min-w-0">
            <span class="w-fit px-2 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-md text-[9px] font-black uppercase tracking-wider border border-blue-100/50 dark:border-blue-800">
              ${m.cat}
            </span>
            <h3 class="text-base md:text-xl font-black text-slate-700 dark:text-slate-200 truncate italic uppercase tracking-tighter">
              ${m.term_id}
            </h3>
          </div>

          <div class="flex items-center gap-3 shrink-0">
            <div class="font-arab text-xl md:text-2xl text-blue-600 dark:text-blue-400 leading-none drop-shadow-sm">
              ${m.term_ar}
            </div>
            <button class="p-2 rounded-xl bg-slate-50 dark:bg-slate-900 text-slate-400 hover:text-blue-600 transition-all" data-toggle="${id}">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
          </div>
        </div>

        <div id="${id}" class="hidden mt-4 pt-4 border-t border-slate-50 dark:border-slate-700/50 animate-fade-in">
          <div class="space-y-4">
            <p class="text-xs md:text-sm text-slate-500 dark:text-slate-400 leading-relaxed italic">
              <span class="font-bold text-slate-400 not-italic mr-1 text-[10px] uppercase">Ket:</span>
              ${m.explain_id}
            </p>

            <div class="p-4 rounded-2xl bg-slate-50/50 dark:bg-slate-900/30 border border-slate-100 dark:border-slate-700/50">
              <div class="font-arab text-xl text-slate-700 dark:text-slate-200 text-center leading-[1.8]">
                ${m.example_ar}
              </div>
              ${m.example_id ? `
                <div class="text-[10px] md:text-xs text-slate-400 text-center font-medium mt-1">
                   "${m.example_id}"
                </div>
              ` : ''}
            </div>
            
            <div class="text-[8px] font-bold text-slate-300 dark:text-slate-600 uppercase tracking-[0.2em] text-center">
              Ref: Al-Ajurrumiyyah
            </div>
          </div>
        </div>
      </div>
    </article>`;
}

  function render() {
    let list = MATERIALS.slice();
    if (activeTab !== 'all') list = list.filter(m => m.cat === activeTab);
    if (query.trim()) {
      const q = normalizeText(query);
      list = list.filter(m => normalizeText(m.term_id).includes(q) || normalizeText(m.term_ar).includes(q) || normalizeText(m.explain_id).includes(q));
    }

    grid.innerHTML = list.map((m, i) => cardTemplate(m, i)).join('') || `
      <div class="col-span-full py-20 text-center animate-fade-in text-slate-400">
        <div class="text-6xl mb-4">üîç</div>
        <h3 class="text-xl font-bold uppercase tracking-widest">Materi tidak ditemukan</h3>
      </div>`;

    // Accordion Logic
    grid.querySelectorAll('[data-toggle]').forEach(btn => {
      btn.addEventListener('click', () => {
        const targetId = btn.dataset.toggle;
        const target = document.getElementById(targetId);
        const isHidden = target.classList.toggle('hidden');
        btn.querySelector('svg').style.transform = isHidden ? 'rotate(0deg)' : 'rotate(180deg)';
        
        grid.querySelectorAll('[id^="m-"]').forEach(detail => {
          if (detail.id !== targetId) {
            detail.classList.add('hidden');
            const otherBtn = grid.querySelector(`[data-toggle="${detail.id}"] svg`);
            if(otherBtn) otherBtn.style.transform = 'rotate(0deg)';
          }
        });
      });
    });
  }

  // 6. TAB SYSTEM (AUTOMATED)
  function setTab(tabId) {
    activeTab = tabId.replace('tab-', '');
    
    getAllTabs().forEach(tabBtn => {
      const isSelected = tabBtn.id === tabId;
      const isTahap2 = ['kaana', 'inna', 'nida', 'maushul', 'isyarah', 'jar', 'syarth', 'istifham', 'zharf'].includes(activeTab);
      
      if (isSelected) {
        const bgClass = isTahap2 ? "bg-emerald-600 shadow-emerald-500/30" : "bg-blue-600 shadow-blue-500/30";
        tabBtn.className = `px-5 py-2.5 rounded-full ${bgClass} text-white font-black text-[10px] uppercase tracking-[0.2em] shadow-lg transition-all scale-105 z-10`;
      } else {
        tabBtn.className = "px-5 py-2.5 rounded-full bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 font-bold text-[10px] uppercase tracking-[0.1em] border border-slate-100 dark:border-slate-700 hover:border-blue-400 transition-all";
      }
    });

    updateHeroProgress(activeTab);
    render();
  }

  // 7. INITIALIZE listeners
  document.addEventListener('DOMContentLoaded', () => {
    getAllTabs().forEach(tab => {
      tab.addEventListener('click', () => setTab(tab.id));
    });

    input.addEventListener('input', (e) => {
      query = e.target.value;
      render();
    });

  });
</script>

  <!-- JS UNTUK DARKMODE -->
<script>
  const toggle = document.getElementById('themeToggle');
  const root = document.documentElement;

  // Load preferensi
  if (localStorage.theme === 'dark') {
    root.classList.add('dark');
    toggle.textContent = '‚òÄÔ∏è';
  }

  toggle.addEventListener('click', () => {
    root.classList.toggle('dark');
    const isDark = root.classList.contains('dark');
    toggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    localStorage.theme = isDark ? 'dark' : 'light';
  });
</script>

  

</body>
</html>
