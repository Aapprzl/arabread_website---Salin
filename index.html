<!DOCTYPE html>
<html lang="id" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ArabRead — Pembelajaran Membaca Bahasa Arab MTs</title>

  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: { 50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a' },
            secondary: { 100:'#dcfce7',500:'#22c55e',600:'#16a34a' }
          },
          fontFamily: { arabic: ['Amiri','Scheherazade New','serif'] }
        }
      }
    }
  </script>
  <style>
    .arabic-text { font-family: 'Amiri','Scheherazade New',serif; direction: rtl; }
  </style>

  <style>
  /* Efek 3D flip untuk kartu */
  .card3d { perspective: 1000px; }
  .card3d-inner {
    position: relative;
    width: 100%;
    height: 180px;           /* boleh kamu ubah */
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
  }
  .card3d.flipped .card3d-inner { transform: rotateY(180deg); }

  .card-face {
    position: absolute; inset: 0;
    backface-visibility: hidden;
    border-radius: 0.75rem;  /* ~ rounded-xl */
    display: grid; place-items: center;
    padding: 0.75rem;
  }
  .card-back { transform: rotateY(180deg); }

  /* === Flip 3D dasar === */
.card3d { perspective: 1000px; }
.card3d-inner {
  position: relative;
  width: 100%;
  height: 176px;                 /* tinggi seragam di mobile */
  transform-style: preserve-3d;
  transition: transform .5s ease;
}
.card3d.flipped .card3d-inner { transform: rotateY(180deg); }

.card-face {
  position: absolute; inset: 0;
  backface-visibility: hidden;
  border-radius: 0.75rem;        /* ~rounded-xl */
  border: 1px solid rgb(219 234 254);  /* blue-100 */
  display: flex; flex-direction: column; 
  justify-content: center; align-items: center;
  gap: .375rem;                  /* jarak antar baris */
  padding: .875rem;
  white-space: normal;           /* boleh multi-baris */
  overflow: hidden;              /* cegah meluber */
}
.card-back { transform: rotateY(180deg); }

/* Responsif: beri ruang lebih di layar kecil dan long text */
@media (min-width: 768px) {
  .card3d-inner { height: 192px; }      /* md: sedikit lebih tinggi */
}

/* --- Strip warna di atas kartu --- */
.card3d {
  perspective: 1000px;
  transform-style: preserve-3d;
}

.card3d-inner {
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

.card-face {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 1rem;
  overflow: hidden;
}

/* strip warna menempel pada masing-masing sisi kartu */
.card-face::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 10px;
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  background: linear-gradient(to right, #3b82f6, #2563eb);
  z-index: 2;
}

/* sisi belakang */
.card-back {
  transform: rotateY(180deg);
}

/* efek flip */
.card3d.flipped .card3d-inner {
  transform: rotateY(180deg);
}

/* === Tema warna per kategori (dipasang di #grammar-cards) === */
#grammar-cards { --accent1:#3b82f6; --accent2:#2563eb; }            /* default: Campur (biru) */
#grammar-cards.theme-mix   { --accent1:#3b82f6; --accent2:#2563eb; } /* Campur = biru */
#grammar-cards.theme-nahwu { --accent1:#3b82f6; --accent2:#2563eb; } /* Nahwu = biru (tetap) */
#grammar-cards.theme-shorof{ --accent1:#22c55e; --accent2:#16a34a; } /* Shorof = hijau */

/* Strip warna di atas tiap sisi kartu flip */
.card-face{ position:relative; overflow:hidden; }
.card-face::before{
  content:"";
  position:absolute; top:0; left:0; width:100%; height:10px;
  border-top-left-radius:1rem; border-top-right-radius:1rem;
  background: linear-gradient(to right, var(--accent1), var(--accent2));
  z-index:2;
}

/* (pastikan flip kamu sudah seperti ini supaya tidak "turun" saat dibalik) */
.card3d{ perspective:1000px; }
.card3d-inner{ position:relative; transform-style:preserve-3d; transition:transform .6s ease; }
.card3d.flipped .card3d-inner{ transform:rotateY(180deg); }
.card-face{ position:absolute; inset:0; backface-visibility:hidden; border-radius:1rem; }
.card-back{ transform:rotateY(180deg); }


</style>


<link rel="manifest" href="/arabread_website---Salin/manifest.webmanifest">
<meta name="theme-color" content="#0f766e">


</head>

<body class="relative min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50">

  <!-- Header -->
  <header class="bg-primary-600 text-white">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 19.5A2.5 2.5 0 0 0 6.5 22H20M4 19.5V5.75A2.75 2.75 0 0 1 6.75 3h10.5A2.75 2.75 0 0 1 20 5.75V22M4 19.5c0-1.38 1.12-2.5 2.5-2.5H20"/></svg>
        <span class="text-2xl font-bold">Tarbiyyat al-Lughah</span>
      </div>
      
      <nav class="hidden md:flex gap-6 text-white/90">
        <a class="inline-flex items-center gap-2 hover:text-white" href="#materi">
          <i data-feather="book-open" class="w-4 h-4"></i><span class="leading-none">Materi</span>
        </a>
        <a class="inline-flex items-center gap-2 hover:text-white" href="#tentang">
          <i data-feather="info" class="w-4 h-4"></i><span class="leading-none">Tentang</span>
        </a>
      </nav>
    </div>

    <!-- Badge pengunjung online (global) -->
<div id="viewer-badge"
     class="fixed top-3 right-4 z-50 flex items-center gap-2
            bg-yellow-100/90 px-3 py-1.5 rounded-full
            shadow-md font-semibold text-sm text-gray-900">
  👥 <span id="viewer-count">0</span> online
</div>


    
  </header>


  <!-- Hero -->
  <section class="text-center max-w-6xl mx-auto px-4 pt-10 pb-8">
    <h1 class="arabic-text text-4xl font-bold text-primary-800">موقع تعليم مهارة القراءة العربية</h1>
    <p class="mt-3 text-gray-600 text-lg">Media belajar interaktif untuk meningkatkan kemampuan membaca teks Arab berharakat bagi siswa MTs kelas 7.</p>
  </section>

<!-- Mini Widget: Tantangan Hari Ini (Game ringan di beranda) -->
<section id="tantangan" class="max-w-4xl mx-auto px-4 mt-6 mb-10">
  <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
    <div class="inline-flex items-center gap-2 mb-3">
      <h2 class="text-2xl font-bold text-primary-700">🎯 Tantangan Hari Ini</h2>
    </div>

    <!-- Pertanyaan -->
    <p id="q-text" class="text-gray-700 mb-4">
      Apa arti frasa <span id="q-ar" class="arabic-text text-xl font-bold text-primary-800">...</span> ?
    </p>

    <!-- Opsi -->
    <div id="q-options" class="flex flex-wrap justify-center gap-3"></div>

    <!-- Feedback -->
    <p id="q-feedback" class="mt-4 text-sm font-semibold"></p>

    <!-- Tombol kontrol -->
    <div class="mt-5 flex flex-wrap gap-3 justify-center">
      <button id="q-next"
              class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white disabled:opacity-50 disabled:cursor-not-allowed">
        Soal Berikutnya
      </button>
    </div>
  </div>
</section>

<!-- bagian pencarian kosakata -->
 <section id="search" class="max-w-4xl mx-auto px-4 mt-8 mb-12">
  <div class="bg-white rounded-2xl shadow-lg p-6">
    <h2 class="text-2xl font-bold text-primary-700 mb-3">🔍 Cari Kosakata</h2>
    <input id="search-input"
           type="text"
           placeholder="Ketik kata Arab atau terjemahannya..."
           class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary-400 outline-none" />
    <div id="search-results" class="mt-4 text-gray-700"></div>
  </div>
</section>


<!-- Kartu Kosakata (Flip Cards) -->
<section id="flashcards" class="max-w-6xl mx-auto px-4 mt-10 mb-12">
  <div class="bg-white rounded-2xl shadow-lg p-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <h2 class="text-2xl font-bold text-primary-700">🃏 Kartu Kosakata</h2>
      <div class="flex items-center gap-2">
        <span class="text-sm text-gray-600">Mode:</span>
        <button id="mode-ar" class="px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold">
          AR → ID
        </button>
        <button id="mode-id" class="px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold">
          ID → AR
        </button>
      </div>
    </div>

    <p class="text-gray-600 mt-2">Ketuk kartu untuk membaliknya. Cocok untuk penguatan memori kosakata.</p>

    <!-- Grid kartu -->
    <div id="card-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-5"></div>

    <!-- Kontrol -->
    <div class="mt-6 flex flex-wrap gap-3 justify-center">
      <button id="btn-shuffle"
              class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-semibold">
        🔀 Acak 4 kartu
      </button>
      <button id="btn-reset"
              class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold">
        ↺ Reset
      </button>
    </div>
  </div>
</section>

<!-- Kartu Gramatikal (Nahwu & Shorof) -->
<section id="grammar-cards" class="max-w-6xl mx-auto px-4 mt-10 mb-12 theme-mix">
  <div class="bg-white rounded-2xl shadow-lg p-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <h2 class="text-2xl font-bold text-primary-700">📘 Kartu Gramatikal</h2>
      <div class="flex flex-wrap items-center gap-2">
        <span class="text-sm text-gray-600">Kategori:</span>
        <button id="gbtn-all"   class="px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold">Campur</button>
        <button id="gbtn-nahwu" class="px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold">Nahwu</button>
        <button id="gbtn-shorof"class="px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold">Shorof</button>
      </div>
    </div>

    <p class="text-gray-600 mt-2">Ketuk kartu untuk melihat penjelasan singkat dan contoh.</p>

    <div id="gcard-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-5"></div>

     <div class="mt-6 flex flex-wrap gap-3 justify-center">
      <button id="gbtn-shuffle"
              class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-semibold">
        🔀 Acak 4 kartu
      </button>
      <button id="gbtn-reset"
              class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold">
        ↺ Reset
      </button>
    </div>
  </div>
</section>



  <!-- Materi -->
  <main id="materi" class="max-w-6xl mx-auto px-4 pb-16">
    <h2 class="text-2xl md:text-3xl font-bold text-primary-900 text-center mb-8">Pilih Materi Membaca</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- Kartu: Materi Gramatikal Dasar -->
<article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
  <!-- Header berwarna (ikuti pola: primary/secondary) -->
  <div class="bg-primary-500 text-white text-center py-6">
    <h3 class="arabic-text text-2xl font-bold">النَّحْوُ وَالصَّرْفُ (الأساسيات)</h3>
    <p class="mt-1 text-white/90">Materi Gramatikal Dasar — Nahwu &amp; Shorof</p>
  </div>

  <div class="p-6 space-y-5">
    <p class="text-gray-600">
      Ringkasan konsep inti untuk pemula: pengertian singkat, aturan dasar, dan contoh kalimat
      berharakat agar mudah dipahami sebelum latihan membaca.
    </p>

    <!-- Tombol aksi (konsisten dengan tombol “Mulai Belajar”) -->
    <a href="grammar-basics.html"
       class="flex items-center justify-center gap-2 w-full
              bg-primary-600 hover:bg-primary-700 text-white
              py-2.5 px-4 rounded-lg transition-colors h-11">
      <i data-feather="book" class="w-5 h-5 shrink-0"></i>
      <span class="leading-none font-semibold">Buka Materi</span>
    </a>

    <!-- Catatan kecil di bawah tombol (meniru pola “Urutan: …”) -->
    <p class="text-xs text-gray-500 text-center">
      Konten: Pengertian → Contoh → Catatan
    </p>
  </div>
</article>


      <!-- Kartu: Ta'aruf / Pengenalan -->
<article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
  <div class="bg-secondary-500 text-white text-center py-6">
    <h3 class="arabic-text text-2xl font-bold">التَّعارُف</h3>
    <p class="mt-1 text-white/90">Pengenalan / Ta'aruf</p>
  </div>
  <div class="p-6 space-y-5">
    <p class="text-gray-600">
      Latihan membaca teks perkenalan sederhana: nama, asal, kelas, hobi, dan kalimat salam.
    </p>
    <a href="vocabulary-taaruf.html"
       class="flex items-center justify-center gap-2 w-full
              bg-primary-600 hover:bg-primary-700 text-white
              py-2.5 px-4 rounded-lg transition-colors h-11">
      <i data-feather="play" class="w-5 h-5 shrink-0"></i>
      <span class="leading-none font-semibold">Mulai Belajar</span>
    </a>
    <p class="text-xs text-gray-500 text-center">
      Urutan: Kosakata → Baca Teks → Kuis
    </p>
  </div>
</article>


      <!-- Kartu: Sekolah -->
      <article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-primary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">المدرسة</h3>
          <p class="mt-1 text-white/90">Sekolah</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600">Latihan membaca teks sederhana tentang kegiatan di sekolah.</p>
          <a href="vocabulary-school.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 text-center">Urutan: Kosakata → Baca Teks → Kuis</p>
        </div>
      </article>

      <!-- Kartu: Keluarga -->
      <article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-secondary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">العائلة</h3>
          <p class="mt-1 text-white/90">Keluarga</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600">Membaca teks tentang keluarga dan mengenal kosakata anggota keluarga.</p>
          <a href="vocabulary-family.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 text-center">Urutan: Kosakata → Baca Teks → Kuis</p>
        </div>
      </article>

      <!-- Kartu: Hewan -->
      <article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-primary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">الحيوانات</h3>
          <p class="mt-1 text-white/90">Hewan</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600">Latihan membaca teks deskriptif tentang hewan dalam bahasa Arab.</p>
          <a href="vocabulary-animals.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 text-center">Urutan: Kosakata → Baca Teks → Kuis</p>
        </div>
      </article>
    </div>

    <!-- ===============================
     KARTU PENGUMPULAN TUGAS
================================== -->
<section id="pengumpulan-tugas" class="max-w-6xl mx-auto px-4 py-12">
  <article class="bg-gradient-to-br from-slate-50 via-white to-slate-100 border border-slate-200 rounded-2xl shadow-lg overflow-hidden">
    <!-- Header -->
    <div class="bg-gradient-to-r from-gray-700 to-gray-900 text-white py-6 text-center">
      <h3 class="text-2xl font-bold flex items-center justify-center gap-2">
        <i data-feather="inbox" class="w-6 h-6"></i>
        Pengumpulan Tugas
      </h3>
      <p class="text-sm text-gray-300 mt-1">Unggah hasil latihan atau proyek kamu di sini</p>
    </div>

    <!-- Body -->
    <div class="p-8 space-y-5">
      <p class="text-slate-700 text-center md:text-left">
        Silakan isi form berikut untuk mengirimkan tugasmu. Pastikan file yang dikirim sudah sesuai format (PDF, DOCX, ZIP, dll)
        dan beri keterangan nama lengkap serta kelas.
      </p>

      <form action="mailto:icalaprizal23072003@gmail.com" method="post" enctype="text/plain" class="space-y-4">
        <div>
          <label for="nama" class="block text-slate-700 font-semibold mb-1">Nama Lengkap</label>
          <input type="text" id="nama" name="Nama" required
                 class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gray-500 outline-none">
        </div>

        <div>
          <label for="kelas" class="block text-slate-700 font-semibold mb-1">Kelas / Kelompok</label>
          <input type="text" id="kelas" name="Kelas"
                 class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gray-500 outline-none">
        </div>

        <div>
          <label for="pesan" class="block text-slate-700 font-semibold mb-1">Catatan / Pesan</label>
          <textarea id="pesan" name="Pesan" rows="3"
                    class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gray-500 outline-none"
                    placeholder="Tulis keterangan singkat tentang tugasmu..."></textarea>
        </div>

        <div>
          <label class="block text-slate-700 font-semibold mb-1">File Tugas</label>
          <input type="file" name="File" accept=".pdf,.doc,.docx,.zip,.rar"
                 class="w-full text-slate-700 bg-white border border-slate-300 rounded-lg px-3 py-2 cursor-pointer">
        </div>

        <div class="pt-4 flex flex-wrap gap-3 justify-center md:justify-end">
          <button type="reset"
                  class="px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-800 rounded-lg font-semibold flex items-center gap-2">
            <i data-feather="rotate-ccw" class="w-5 h-5"></i> Reset
          </button>
          <button type="submit"
                  class="px-5 py-2 bg-gray-800 hover:bg-gray-900 text-white rounded-lg font-semibold flex items-center gap-2">
            <i data-feather="send" class="w-5 h-5"></i> Kirim Tugas
          </button>
        </div>
      </form>
    </div>
  </article>
</section>

<script>feather.replace()</script>

  </main>

  <!-- Tentang -->
  <section id="tentang" class="max-w-6xl mx-auto px-4 pb-16">
    <div class="bg-white rounded-2xl shadow-lg p-8">
      <h2 class="text-2xl md:text-3xl font-bold text-primary-900 mb-3">Tentang Tarbiyyat al-Lughah</h2>
      <p class="text-gray-700 leading-relaxed">
        Tarbiyyat al-Lughah adalah media pembelajaran berbasis website yang dirancang untuk meningkatkan kemampuan membaca
        (مهارة القراءة) siswa MTs kelas 7. Alur belajar dibuat bertahap: <b>Kosakata → Baca Teks → Kuis</b>,
        agar pemahaman tumbuh secara sistematis.
      </p>
      <p class="text-gray-600 mt-4">Dikembangkan oleh Muh. Aprizal — Mahasiswa PBA IAIN Bone, 2025.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-primary-800 text-white text-center py-6">
    <p>&copy; 2025 Tarbiyyat al-Lughah — Media Pembelajaran Membaca Bahasa Arab MTs</p>
  </footer>

  <!-- Trigger mengambang -->
<button id="a2hs-fab"
  class="hidden fixed right-4 bottom-4 z-[60] rounded-2xl px-4 py-3 font-semibold shadow-xl
         bg-primary-600 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-300
         transition">
  ↗️ Pasang Aplikasi
</button>

<!-- Backdrop -->
<div id="a2hs-backdrop"
     class="hidden fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"></div>

<!-- Bottom sheet -->
<div id="a2hs-sheet"
     class="pointer-events-none fixed inset-x-0 bottom-0 z-50 translate-y-full opacity-0
            transition-all duration-300 ease-out">
  <div
    class="pointer-events-auto mx-auto w-full max-w-md rounded-t-3xl border border-primary-100
           bg-white shadow-2xl">
    <div class="px-5 pt-4 pb-3 flex items-center gap-3">
      <div class="size-10 shrink-0 grid place-items-center rounded-xl bg-primary-100 text-primary-700">
        <svg viewBox="0 0 24 24" class="size-6" fill="currentColor"><path d="M3 5.5A2.5 2.5 0 0 1 5.5 3H20a1 1 0 0 1 1 1v14.5a.5.5 0 0 1-.79.407L18 17.25l-2.21 1.657a.5.5 0 0 1-.79-.407V5H5.5A1.5 1.5 0 0 0 4 6.5V19a1 1 0 0 1-2 0V6.5A2.5 2.5 0 0 1 3 5.5Z"/></svg>
      </div>
      <div class="min-w-0">
        <h3 class="text-base font-semibold text-primary-800">Pasang “Tarbiyyat al-Lughah”</h3>
        <p class="text-sm text-slate-600">Akses cepat dari layar utama, mode offline, dan tampilan penuh layar.</p>
      </div>
    </div>

    <!-- iOS hint (hanya ditampilkan di iOS) -->
    <div id="ios-hint" class="hidden mx-5 mb-3 rounded-xl bg-slate-50 px-4 py-3 text-sm text-slate-700">
      Di Safari: ketuk <span class="font-semibold">Share</span> → <span class="font-semibold">Add to Home Screen</span>.
    </div>

    <div class="px-5 pb-5 flex gap-3">
      <button id="a2hs-cancel"
        class="flex-1 rounded-xl border border-slate-200 bg-white px-4 py-3 font-semibold text-slate-700
               hover:bg-slate-50 transition">Nanti</button>
      <button id="a2hs-confirm"
        class="flex-1 rounded-xl bg-primary-600 px-4 py-3 font-semibold text-white hover:bg-primary-700
               transition">Pasang</button>
    </div>
  </div>
</div>

<!-- Snackbar -->
<div id="a2hs-snackbar"
     class="pointer-events-none fixed left-1/2 bottom-6 z-[70] -translate-x-1/2
            hidden rounded-xl bg-slate-900 text-white px-4 py-2 text-sm shadow-lg">
  Aplikasi terpasang 🎉
</div>



  <!-- Feather Icons -->
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => feather.replace());</script>


<script>
(function(){
  const QUESTIONS = [
    // ====== TA'ARUF ======
    { ar: 'مَا اسْمُكَ؟', id: 'Siapa namamu?', opts: ['Apa kabarmu?','Di mana rumahmu?','Siapa namamu?','Apa hobimu?'], correct: 2 },
    { ar: 'مِنْ أَيْنَ أَنْتَ؟', id: 'Dari mana kamu? (laki-laki)', opts: ['Di kelas berapa?','Dari mana kamu? (laki-laki)','Apa hobimu?','Siapa namamu?'], correct: 1 },
    { ar: 'كَيْفَ حَالُكَ؟', id: 'Apa kabarmu?', opts: ['Apa kabarmu?','Siapa namamu?','Di mana rumahmu?','Kamu kelas berapa?'], correct: 0 },
    { ar: 'كَمْ عُمْرُكَ؟', id: 'Berapa usiamu?', opts: ['Apa hobimu?','Berapa usiamu?','Dari mana kamu?','Di mana kamu belajar?'], correct: 1 },
    { ar: 'السَّلَامُ عَلَيْكُمْ', id: 'Assalamu’alaikum', opts: ['Selamat pagi','Assalamu’alaikum','Sampai jumpa','Terima kasih'], correct: 1 },
    { ar: 'وَعَلَيْكُمُ السَّلَامُ', id: 'Wa’alaikumussalam', opts: ['Wa’alaikumussalam','Selamat malam','Sampai besok','Apa kabarmu?'], correct: 0 },
    { ar: 'إِلَى اللِّقَاءِ', id: 'Sampai jumpa', opts: ['Selamat datang','Sampai jumpa','Selamat siang','Selamat tidur'], correct: 1 },
    { ar: 'مَا هِوَايَتُكَ؟', id: 'Apa hobimu?', opts: ['Apa hobimu?','Berapa umurmu?','Siapa namamu?','Dari mana kamu?'], correct: 0 },

    // ====== KELUARGA ======
    { ar: 'هَذَا أَبِي', id: 'Ini ayahku', opts: ['Ini ayahku','Ini ibuku','Ini kakakku','Ini guruku'], correct: 0 },
    { ar: 'هَذِهِ أُمِّي', id: 'Ini ibuku', opts: ['Ini ibuku','Ini ayahku','Ini temanku','Ini adikku'], correct: 0 },
    { ar: 'لِي أَخٌ وَأُخْتٌ', id: 'Aku punya saudara laki-laki dan perempuan', opts: ['Aku punya saudara laki-laki dan perempuan','Aku tidak punya saudara','Aku punya dua paman','Aku punya teman baru'], correct: 0 },
    { ar: 'جَدِّي كَبِيرُ السِّنِّ', id: 'Kakekku sudah tua', opts: ['Kakekku sudah tua','Ayahku seorang guru','Saudaraku sedang belajar','Ibuku memasak'], correct: 0 },

    // ====== SEKOLAH ======
    { ar: 'أَيْنَ فَصْلُكَ؟', id: 'Di mana kelasmu?', opts: ['Di mana kelasmu?','Siapa gurumu?','Kapan libur?','Berapa umurmu?'], correct: 0 },
    { ar: 'مَتَى يَبْدَأُ الدَّرْسُ؟', id: 'Kapan pelajaran dimulai?', opts: ['Kapan pelajaran dimulai?','Kapan kamu tidur?','Kapan kamu makan?','Kapan kamu bermain?'], correct: 0 },
    { ar: 'أَنَا فِي الصَّفِّ السَّابِعِ', id: 'Saya di kelas tujuh', opts: ['Saya di kelas tujuh','Saya dari Bone','Saya lapar','Saya bahagia'], correct: 0 },
    { ar: 'هَذَا مُعَلِّمُ اللُّغَةِ الْعَرَبِيَّةِ', id: 'Ini guru bahasa Arab', opts: ['Ini guru bahasa Arab','Ini teman sekelas','Ini kepala sekolah','Ini penjaga sekolah'], correct: 0 },
    { ar: 'أُحِبُّ دَرْسَ الرِّيَاضِيَّاتِ', id: 'Saya suka pelajaran Matematika', opts: ['Saya suka pelajaran Matematika','Saya tidak suka olahraga','Saya benci musik','Saya senang bermain'], correct: 0 },

    // ====== HEWAN ======
    { ar: 'الْقِطَّةُ حَيَوَانٌ أَلِيفٌ', id: 'Kucing adalah hewan jinak', opts: ['Kucing adalah hewan jinak','Singa adalah hewan jinak','Ikan adalah mamalia','Kuda adalah burung'], correct: 0 },
    { ar: 'أُرَبِّي سَمَكَةً', id: 'Saya memelihara ikan', opts: ['Saya memelihara ikan','Saya memelihara burung','Saya memelihara kuda','Saya memelihara ayam'], correct: 0 },
    { ar: 'الطِّفْلُ يُحِبُّ الأَرَانِبَ', id: 'Anak itu suka kelinci', opts: ['Anak itu suka kelinci','Ayah suka harimau','Nenek takut kucing','Guru membeli kambing'], correct: 0 },
    { ar: 'يَطِيرُ الطَّائِرُ فِي السَّمَاءِ', id: 'Burung terbang di langit', opts: ['Burung terbang di langit','Ikan berenang di air','Kuda berjalan di jalan','Kucing tidur di rumah'], correct: 0 }
  ];

  // ========== TAMBAHAN SOAL (AUTO-GENERATED) ==========
// Tempelkan blok ini SETELAH deklarasi const QUESTIONS = [...] milikmu

(function addExtraVocab(){
  // 1) Daftar kosakata baru: {ar, id}
  //    (Duplikat yang sudah ada di bank awalmu sengaja TIDAK dimasukkan)
  const VOCABS = [
    // 4
    { ar:'مَا اسْمُكِ؟', id:'Siapa namamu? (perempuan)' },
    // 5
    { ar:'اسْمِي ...', id:'Namaku …' },
    // 7
    { ar:'مِنْ أَيْنَ أَنْتِ؟', id:'Dari mana kamu? (perempuan)' },
    // 8
    { ar:'أَنَا مِنْ بُونِي', id:'Saya dari Bone' },
    // 9
    { ar:'كَيْفَ حَالُكَ؟', id:'Bagaimana kabarmu? (laki-laki)' },
    // 10
    { ar:'أَنَا بِخَيْرٍ، وَالْحَمْدُ لِلّٰهِ', id:'Saya baik, alhamdulillah' },
    // 11
    { ar:'فِي أَيِّ صَفٍّ أَنْتَ؟', id:'Kamu di kelas berapa? (laki-laki)' },
    // 14
    { ar:'هِوَايَتِي الْقِرَاءَةُ', id:'Hobiku membaca' },
    // 16–30: sekolah
    { ar:'مَدْرَسَةٌ', id:'Sekolah' },
    { ar:'مُعَلِّمٌ', id:'Guru (laki-laki)' },
    { ar:'مُعَلِّمَةٌ', id:'Guru (perempuan)' },
    { ar:'طَالِبٌ', id:'Siswa (laki-laki)' },
    { ar:'طَالِبَةٌ', id:'Siswa (perempuan)' },
    { ar:'فَصْلٌ', id:'Kelas / ruang kelas' },
    { ar:'كِتَابٌ', id:'Buku' },
    { ar:'قَلَمٌ', id:'Pena / pulpen' },
    { ar:'سَبُّورَةٌ', id:'Papan tulis' },
    { ar:'كُرْسِيٌّ', id:'Kursi' },
    { ar:'مَكْتَبٌ', id:'Meja' },
    { ar:'حَقِيبَةٌ', id:'Tas' },
    { ar:'مُدِيرٌ', id:'Kepala sekolah' },
    { ar:'مَكْتَبَةٌ', id:'Perpustakaan' },
    { ar:'مَلْعَبٌ', id:'Lapangan' },
    // 31–45: keluarga & rumah
    { ar:'أَبٌ', id:'Ayah' },
    { ar:'أُمٌّ', id:'Ibu' },
    { ar:'أَخٌ', id:'Saudara laki-laki' },
    { ar:'أُخْتٌ', id:'Saudara perempuan' },
    { ar:'جَدٌّ', id:'Kakek' },
    { ar:'جَدَّةٌ', id:'Nenek' },
    { ar:'اِبْنٌ', id:'Anak laki-laki' },
    { ar:'بِنْتٌ', id:'Anak perempuan' },
    { ar:'عَمٌّ', id:'Paman (saudara ayah)' },
    { ar:'عَمَّةٌ', id:'Bibi (saudari ayah)' },
    { ar:'خَالٌ', id:'Paman (saudara ibu)' },
    { ar:'خَالَةٌ', id:'Bibi (saudari ibu)' },
    { ar:'أُسْرَةٌ', id:'Keluarga' },
    { ar:'بَيْتٌ', id:'Rumah' },
    { ar:'غُرْفَةٌ', id:'Kamar' },
    // 46–60: hewan
    { ar:'قِطٌّ', id:'Kucing' },
    { ar:'كَلْبٌ', id:'Anjing' },
    { ar:'طَيْرٌ', id:'Burung' },
    { ar:'أَرْنَبٌ', id:'Kelinci' },
    { ar:'بَقَرَةٌ', id:'Sapi' },
    { ar:'دَجَاجَةٌ', id:'Ayam betina' },
    { ar:'خَرُوفٌ', id:'Domba' },
    { ar:'حِصَانٌ', id:'Kuda' },
    { ar:'جَمَلٌ', id:'Unta' },
    { ar:'سَمَكٌ', id:'Ikan' },
    { ar:'قِرْدٌ', id:'Monyet' },
    { ar:'فِيلٌ', id:'Gajah' },
    { ar:'أَسَدٌ', id:'Singa' },
    { ar:'نَمِرٌ', id:'Harimau' },
    { ar:'زَرَافَةٌ', id:'Jerapah' },
  ];

  // Tambahkan ini agar VOCABS bisa diakses global
window.VOCABS = (window.VOCABS || []).concat(VOCABS);


  // 2) Bangun opsi otomatis (tiga pengecoh + 1 jawaban benar), lalu acak
  function buildItems(vocabs){
    const allMeanings = vocabs.map(v => v.id);
    return vocabs.map(v => {
      // ambil 3 arti lain sebagai distractor
      const pool = allMeanings.filter(x => x !== v.id);
      const wrong = [];
      for (let i = 0; i < 3 && pool.length; i++){
        const k = Math.floor(Math.random() * pool.length);
        wrong.push(pool.splice(k,1)[0]);
      }
      const opts = wrong.concat([v.id]);        // masukkan jawaban benar
      // acak opsi + dapatkan index jawaban benar
      for (let j = opts.length - 1; j > 0; j--){
        const k = Math.floor(Math.random() * (j + 1));
        [opts[j], opts[k]] = [opts[k], opts[j]];
      }
      const correct = opts.indexOf(v.id);
      return { ar: v.ar, id: v.id, opts, correct };
    });
  }

  // 3) Tambahkan ke bank soal yang ada
  const EXTRA_ITEMS = buildItems(VOCABS);
  QUESTIONS.push(...EXTRA_ITEMS);
})();

  const qAr = document.getElementById('q-ar');
  const qOpts = document.getElementById('q-options');
  const qFeedback = document.getElementById('q-feedback');
  const qNext = document.getElementById('q-next');

  let current = null;
  let locked = false;

  function pickRandom(){
    return QUESTIONS[Math.floor(Math.random() * QUESTIONS.length)];
  }

  function renderQuestion(){
    current = pickRandom();
    locked = false;
    qFeedback.textContent = '';
    qFeedback.className = 'mt-4 text-sm font-semibold';
    qAr.textContent = current.ar;
    qOpts.innerHTML = '';

    current.opts.forEach((opt, idx) => {
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className =
        'px-4 py-2 bg-primary-100 hover:bg-primary-200 text-primary-800 rounded-lg transition disabled:opacity-60';
      btn.textContent = opt;
      btn.addEventListener('click', () => choose(idx, btn));
      qOpts.appendChild(btn);
    });

    qNext.disabled = true;
  }

  function choose(idx, btn){
    if (locked) return;
    locked = true;
    [...qOpts.children].forEach((el, i) => {
      el.disabled = true;
      if (i === current.correct)
        el.classList.add('ring-2','ring-green-300','bg-green-50');
    });

    if (idx === current.correct) {
      qFeedback.textContent = 'Benar! 🎉';
      qFeedback.classList.add('text-secondary-600');
    } else {
      qFeedback.textContent = `Kurang tepat. Jawaban benar: ${current.id}`;
      qFeedback.classList.add('text-primary-700');
      btn.classList.add('ring-2','ring-red-300','bg-red-50');
    }

    qNext.disabled = false;
  }

  qNext.addEventListener('click', renderQuestion);
  renderQuestion();
})();
</script>

<!-- Aktifkan mode global (1 angka untuk seluruh situs) -->
<script>
  window.PRESENCE_OPTIONS = { mode: "global" };
</script>

<!-- Panggil script presence -->
<script type="module" src="./assets/presence.js"></script>


<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker
        .register('/arabread_website---Salin/sw.js')
        .catch(console.error);
    });
  }
</script>

<!-- Logika Tombol -->
<script>
(() => {
  const FAB = document.getElementById('a2hs-fab');
  const SHEET = document.getElementById('a2hs-sheet');
  const BACKDROP = document.getElementById('a2hs-backdrop');
  const BTN_OK = document.getElementById('a2hs-confirm');
  const BTN_CANCEL = document.getElementById('a2hs-cancel');
  const SNACK = document.getElementById('a2hs-snackbar');
  const IOS_HINT = document.getElementById('ios-hint');

  let deferredPrompt = null;
  const NAG_KEY = 'a2hs:nag';
  const COOLDOWN = 1000 * 60 * 60 * 24 * 3; // 3 hari

  const isStandalone = window.matchMedia?.('(display-mode: standalone)').matches || window.navigator.standalone;
  const isiOS = (() => {
    const ua = navigator.userAgent;
    const iOS = /iPad|iPhone|iPod/.test(ua) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    return iOS && !isStandalone;
  })();

  const showFab = () => FAB.classList.remove('hidden');
  const hideFab = () => FAB.classList.add('hidden');

  const openSheet = () => {
    BACKDROP.classList.remove('hidden');
    SHEET.classList.remove('opacity-0','translate-y-full');
    SHEET.classList.add('opacity-100','translate-y-0');
  };
  const closeSheet = () => {
    SHEET.classList.add('opacity-0','translate-y-full');
    setTimeout(() => BACKDROP.classList.add('hidden'), 250);
  };
  const toast = (msg, ms=2400) => {
    SNACK.textContent = msg;
    SNACK.classList.remove('hidden');
    setTimeout(() => SNACK.classList.add('hidden'), ms);
  };

  if (isStandalone) hideFab();

  window.addEventListener('appinstalled', () => {
    hideFab(); localStorage.removeItem(NAG_KEY); toast('Berhasil dipasang 🎉');
  });

 window.addEventListener('beforeinstallprompt', (e) => {
  console.log('✅ Event beforeinstallprompt aktif'); // debug log
  e.preventDefault();
  deferredPrompt = e;
  const last = Number(localStorage.getItem(NAG_KEY) || 0);
  if (Date.now() - last < COOLDOWN) return;
  showFab(); // pastikan baris ini aktif
});


  FAB.addEventListener('click', () => {
  IOS_HINT.classList.toggle('hidden', !isiOS);
  hideFab();          // ⬅️ sembunyikan tombol dulu
  openSheet();
});


  BACKDROP.addEventListener('click', closeSheet);
  BTN_CANCEL.addEventListener('click', () => {
    localStorage.setItem(NAG_KEY, Date.now().toString());
    closeSheet(); hideFab();
  });

  BTN_OK.addEventListener('click', async () => {
    if (isiOS) {
      localStorage.setItem(NAG_KEY, Date.now().toString());
      closeSheet(); hideFab();
      toast('Buka menu Share → Add to Home Screen');
      return;
    }
    if (!deferredPrompt) { toast('Belum eligible untuk dipasang'); return; }

    closeSheet(); hideFab();
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    deferredPrompt = null;

    if (outcome === 'accepted') toast('Memasang aplikasi…');
    else {
      localStorage.setItem(NAG_KEY, Date.now().toString());
      toast('Kamu bisa memasang nanti dari menu browser');
    }
  });

  if (isiOS) {
    const last = Number(localStorage.getItem(NAG_KEY) || 0);
    if (Date.now() - last >= COOLDOWN) showFab();
  }
})();
</script>


<!-- Skript untuk pencarian kosakata -->
 <script>
const input = document.getElementById('search-input');
const results = document.getElementById('search-results');

input.addEventListener('input', () => {
  const q = input.value.trim().toLowerCase();
  results.innerHTML = '';

  if (q.length === 0) return;

  const filtered = VOCABS.filter(v =>
    v.ar.includes(q) || v.id.toLowerCase().includes(q)
  );

  if (filtered.length === 0) {
    results.innerHTML = '<p class="text-gray-500">Tidak ditemukan</p>';
    return;
  }

  filtered.forEach(v => {
    const item = document.createElement('div');
    item.className = 'p-2 border-b border-gray-200';
    item.innerHTML = `<span class="arabic-text text-lg text-primary-800">${v.ar}</span> — ${v.id}`;
    results.appendChild(item);
  });
});
 </script>

 <script>
document.addEventListener('DOMContentLoaded', () => {
  const input   = document.getElementById('search-input');
  const results = document.getElementById('search-results');

  // Gabungkan sumber data: VOCABS + fallback dari QUESTIONS (kalau ada)
  const fromQuestions = (window.QUESTIONS || [])
    .map(q => ({ ar: q?.ar, id: q?.id }))
    .filter(x => x && typeof x.ar === 'string' && typeof x.id === 'string');

  const DATA = (window.VOCABS || []).concat(fromQuestions);

  // Hilangkan harakat supaya pencarian Arab tanpa harakat tetap cocok
  const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

  function render(list){
    results.innerHTML = '';
    if (!list.length){
      results.innerHTML = '<p class="text-gray-500">Tidak ditemukan</p>';
      return;
    }
    list.slice(0, 30).forEach(v => {
      const row = document.createElement('div');
      row.className = 'p-2 border-b border-gray-200';
      row.innerHTML =
        `<span class="arabic-text text-lg text-primary-800">${v.ar}</span> — ${v.id}`;
      results.appendChild(row);
    });
  }

  function doSearch(){
    const q = (input.value || '').trim();
    if (!q){ results.innerHTML = ''; return; }

    const qLatin = q.toLowerCase();
    const qArab  = stripHarakat(q);

    const hits = DATA.filter(v =>
      stripHarakat(v.ar).includes(qArab) ||
      v.id.toLowerCase().includes(qLatin)
    );

    render(hits);
  }

  // Jalankan saat mengetik
  input.addEventListener('input', doSearch);

  // Jalankan juga saat Enter ditekan
  input.addEventListener('keydown', (e) => {
    if (e.key === 'Enter'){
      e.preventDefault();  // cegah reload halaman
      doSearch();
    }
  });
});
</script>

<!-- skrip untuk -->
 <script>
(() => {
  const grid   = document.getElementById('card-grid');
  const btnSh  = document.getElementById('btn-shuffle');
  const btnRs  = document.getElementById('btn-reset');
  const modeAR = document.getElementById('mode-ar');
  const modeID = document.getElementById('mode-id');

  // Ambil data dari VOCABS + fallback dari QUESTIONS (ambil pasangan ar-id)
  const fromQuestions = (window.QUESTIONS || [])
    .map(q => ({ ar: q?.ar, id: q?.id }))
    .filter(x => x && typeof x.ar === 'string' && typeof x.id === 'string');

  // Gabungkan & deduplikasi (berdasarkan pasangan ar|id)
  const raw = ((window.VOCABS || []).concat(fromQuestions))
    .filter(v => v && v.ar && v.id);
  const uniq = [];
  const seen = new Set();
  for (const v of raw) {
    const key = `${v.ar}|${v.id}`;
    if (!seen.has(key)) { seen.add(key); uniq.push(v); }
  }

  let mode = 'ar'; // 'ar' = AR → ID, 'id' = ID → AR
  let currentSlice = [];

  function shuffle(arr) {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function pick4() {
    return shuffle(uniq).slice(0, 4);
  }

  // hilangkan harakat untuk hitung panjang
const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

// pilih kelas font berdasarkan panjang teks
function sizeClassForArabic(ar){
  const len = stripHarakat(ar).length;
  if (len > 28) return 'text-base';       // sangat panjang
  if (len > 18) return 'text-lg';         // panjang
  return 'text-2xl';                      // normal/pendek
}

function sizeClassForIndo(id){
  const len = (id || '').length;
  if (len > 36) return 'text-sm';
  if (len > 22) return 'text-base';
  return 'text-xl';
}

  function renderCards(items) {
    grid.innerHTML = '';
    items.forEach(v => {
      // isi sesuai mode
      const front = (mode === 'ar')
      ? `<div class="arabic-text ${sizeClassForArabic(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`
      : `<div class="${sizeClassForIndo(v.id)} font-semibold text-primary-800 text-center leading-relaxed">${v.id}</div>`;

      const back = (mode === 'ar')
      ? `<div class="${sizeClassForIndo(v.id)} text-slate-800 text-center leading-relaxed">${v.id}</div>`
      : `<div class="arabic-text ${sizeClassForArabic(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`;


      // elemen kartu
      const card = document.createElement('button');
      card.type = 'button';
      card.className = 'card3d w-full select-none focus:outline-none';
      card.setAttribute('aria-label', 'kartu kosakata');

      card.innerHTML = `
        <div class="card3d-inner">
          <div class="card-face bg-primary-50 border border-blue-100 shadow-sm">
            ${front}
          </div>
          <div class="card-face card-back bg-white border border-blue-100 shadow-sm">
            ${back}
          </div>
        </div>
      `;

      // klik untuk flip
      card.addEventListener('click', () => {
        card.classList.toggle('flipped');
      });

      grid.appendChild(card);
    });
  }

  function rerender() {
    currentSlice = pick4();
    renderCards(currentSlice);
  }

  // Tombol-tombol
  btnSh.addEventListener('click', rerender);
  btnRs.addEventListener('click', () => {
    // tutup semua (hapus class flipped)
    [...grid.querySelectorAll('.card3d')].forEach(el => el.classList.remove('flipped'));
  });

  // Ganti mode
  function setMode(newMode) {
    mode = newMode;
    // styling tombol mode
    if (mode === 'ar') {
      modeAR.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
      modeID.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
    } else {
      modeAR.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
      modeID.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
    }
    // render ulang isi kartu dengan mode baru,
    // tetap menggunakan 4 item yang sama supaya user bisa bandingkan
    renderCards(currentSlice);
  }

  modeAR.addEventListener('click', () => setMode('ar'));
  modeID.addEventListener('click', () => setMode('id'));

  // Pertama kali tampil
  rerender();
})();
</script>


<!-- flip kartu untuk gramatikal -->
<script>
/* ============================================================
   UTIL — umum untuk flashcards & grammar cards
============================================================ */
(() => {
  // Hilangkan harakat agar perhitungan panjang stabil
  const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

  // Ukuran font adaptif utk Arab & Indonesia
  function sizeAr(s){
    const n = stripHarakat(s).length;
    if (n > 28) return 'text-base';
    if (n > 18) return 'text-lg';
    return 'text-2xl';
  }
  function sizeId(s){
    const n = (s || '').length;
    if (n > 46) return 'text-sm';
    if (n > 28) return 'text-base';
    return 'text-lg';
  }

  // Shuffle aman
  function shuffle(arr){
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  // ==========================================================
  //  A) FLASHCARDS — Kosakata (AR↔ID)
  // ==========================================================
  (function initVocabFlashcards(){
    const grid   = document.getElementById('card-grid');
    const btnSh  = document.getElementById('btn-shuffle');
    const btnRs  = document.getElementById('btn-reset');
    const modeAR = document.getElementById('mode-ar');
    const modeID = document.getElementById('mode-id');
    if (!grid || !btnSh || !btnRs || !modeAR || !modeID) return; // jika section ini tidak ada

    // Sumber data: VOCABS global + fallback dari QUESTIONS (ambil {ar,id})
    const fromQuestions = (window.QUESTIONS || [])
      .map(q => ({ ar: q?.ar, id: q?.id }))
      .filter(x => x && typeof x.ar === 'string' && typeof x.id === 'string');

    const raw = ((window.VOCABS || []).concat(fromQuestions))
      .filter(v => v && v.ar && v.id);

    // Deduplikasi berdasarkan pasangan ar|id
    const uniq = [];
    const seen = new Set();
    for (const v of raw){
      const key = `${v.ar}|${v.id}`;
      if (!seen.has(key)){ seen.add(key); uniq.push(v); }
    }

    let mode = 'ar';         // 'ar' = AR→ID, 'id' = ID→AR
    let currentSlice = [];

    function pick4(){ return shuffle(uniq).slice(0, 4); }

    function renderCards(items){
      grid.innerHTML = '';
      items.forEach(v => {
        const front = (mode === 'ar')
          ? `<div class="arabic-text ${sizeAr(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`
          : `<div class="${sizeId(v.id)} font-semibold text-primary-800 text-center leading-relaxed">${v.id}</div>`;

        const back  = (mode === 'ar')
          ? `<div class="${sizeId(v.id)} text-slate-800 text-center leading-relaxed">${v.id}</div>`
          : `<div class="arabic-text ${sizeAr(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`;

        const card = document.createElement('button');
        card.type = 'button';
        card.className = 'card3d w-full select-none focus:outline-none';
        card.setAttribute('aria-label', 'kartu kosakata');

        card.innerHTML = `
          <div class="card3d-inner">
            <div class="card-face bg-primary-50">${front}</div>
            <div class="card-face card-back bg-white">${back}</div>
          </div>
        `;
        card.addEventListener('click', () => card.classList.toggle('flipped'));
        grid.appendChild(card);
      });
    }

    function rerender(){
      currentSlice = pick4();
      renderCards(currentSlice);
    }

    function setMode(newMode){
      mode = newMode;
      // gaya tombol
      if (mode === 'ar'){
        modeAR.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
        modeID.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
      } else {
        modeAR.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
        modeID.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
      }
      // render ulang isi kartu dengan set data yang sama
      renderCards(currentSlice);
    }

    // Events
    btnSh.addEventListener('click', rerender);
    btnRs.addEventListener('click', () => {
      [...grid.querySelectorAll('.card3d')].forEach(el => el.classList.remove('flipped'));
    });
    modeAR.addEventListener('click', () => setMode('ar'));
    modeID.addEventListener('click', () => setMode('id'));

    // Start
    rerender();
  })();

  // ==========================================================
  //  B) GRAMMAR CARDS — Nahwu & Shorof
  // ==========================================================
  (function initGrammarCards(){
  const section = document.getElementById('grammar-cards'); // <-- tambahkan
  const grid   = document.getElementById('gcard-grid');
  const bAll   = document.getElementById('gbtn-all');
  const bNahwu = document.getElementById('gbtn-nahwu');
  const bShorof= document.getElementById('gbtn-shorof');
  const bShuf  = document.getElementById('gbtn-shuffle');
  const bReset = document.getElementById('gbtn-reset');
    if (!grid || !bAll || !bNahwu || !bShorof || !bShuf || !bReset) return; // jika section ini tidak ada

    // Dataset ringkas (boleh kamu tambah/ubah sesuka hati)
    const GRAMMAR = [
      // --- Nahwu ---
      { cat:'nahwu', term_ar:'اِسْمٌ', term_id:'Isim',
        explain_id:'Kata benda/nomina; tidak menunjukkan waktu.',
        example_ar:'هَذَا كِتَابٌ' },
      { cat:'nahwu', term_ar:'فِعْلٌ', term_id:'Fi‘il',
        explain_id:'Kata kerja; menunjukkan waktu (māḍī, muḍāri‘, amr).',
        example_ar:'قَرَأَ الطَّالِبُ الدَّرْسَ' },
      { cat:'nahwu', term_ar:'حَرْفٌ', term_id:'Harf',
        explain_id:'Partikel; makna sempurna jika bersama kata lain.',
        example_ar:'إِلَى الْمَدْرَسَةِ' },
      { cat:'nahwu', term_ar:'مُبْتَدَأٌ', term_id:'Mubtada’',
        explain_id:'Subjek nominal di awal jumlah ismiyyah.',
        example_ar:'الطَّالِبُ مُجْتَهِدٌ' },
      { cat:'nahwu', term_ar:'خَبَرٌ', term_id:'Khabar',
        explain_id:'Predikat bagi mubtada’.',
        example_ar:'الْمُدَرِّسُ فِي الْفَصْلِ' },
      { cat:'nahwu', term_ar:'فَاعِلٌ', term_id:'Fā‘il',
        explain_id:'Pelaku perbuatan; biasanya marfū‘.',
        example_ar:'كَتَبَ الْوَلَدُ الدَّرْسَ' },
      { cat:'nahwu', term_ar:'مَفْعُولٌ بِهِ', term_id:'Maf‘ūl bih',
        explain_id:'Objek langsung fi‘il; biasanya manṣūb.',
        example_ar:'شَرِبْتُ الْمَاءَ' },
      { cat:'nahwu', term_ar:'مُضَافٌ / مُضَافٌ إِلَيْهِ', term_id:'Mudāf/Mudāf Ilaih',
        explain_id:'Rangkaian kepemilikan (iḍāfah).',
        example_ar:'كِتَابُ الطَّالِبِ' },
      { cat:'nahwu', term_ar:'جَارٌّ وَمَجْرُورٌ', term_id:'Jar–Majrūr',
        explain_id:'Harf jar + isim majrūr; keterangan tempat/waktu, dll.',
        example_ar:'فِي الْمَكْتَبَةِ' },
      { cat:'nahwu', term_ar:'النَّعْتُ وَالْمَنْعُوتُ', term_id:'Na‘t–Man‘ūt',
        explain_id:'Sifat mengikuti i‘rab & jenis/bilangan man‘ūt.',
        example_ar:'طَالِبٌ مُجْتَهِدٌ' },

      // --- Shorof ---
      { cat:'shorof', term_ar:'ثُلَاثِيٌّ مُجَرَّدٌ', term_id:'Tsulātsī mujarrad',
        explain_id:'Akar 3 huruf tanpa tambahan.',
        example_ar:'كَتَبَ – يَكْتُبُ – اُكْتُبْ' },
      { cat:'shorof', term_ar:'وَزْنُ فَعَلَ', term_id:'Wazan “fa‘ala”',
        explain_id:'Pola dasar tsulātsī.',
        example_ar:'فَعَلَ – يَفْعَلُ' },
      { cat:'shorof', term_ar:'وَزْنُ فَعَّلَ', term_id:'Wazan “fa‘‘ala”',
        explain_id:'Makna intensif/menjadikan.',
        example_ar:'عَلَّمَ – يُعَلِّمُ' },
      { cat:'shorof', term_ar:'وَزْنُ تَفَاعَلَ', term_id:'Wazan “tafā‘ala”',
        explain_id:'Saling/melakukan bersama.',
        example_ar:'تَعَاوَنَ – يَتَعَاوَنُ' },
      { cat:'shorof', term_ar:'اِسْمُ الْفَاعِلِ', term_id:'Ism fā‘il',
        explain_id:'Pelaku pekerjaan; pola “فَاعِلٌ”.',
        example_ar:'كَاتِبٌ' },
      { cat:'shorof', term_ar:'اِسْمُ الْمَفْعُولِ', term_id:'Ism maf‘ūl',
        explain_id:'Yang dikenai pekerjaan; pola “مَفْعُولٌ”.',
        example_ar:'مَكْتُوبٌ' },
      { cat:'shorof', term_ar:'مَصْدَرٌ', term_id:'Maṣdar',
        explain_id:'Kata dasar/nomina kejadian.',
        example_ar:'قِرَاءَةٌ' },
      { cat:'shorof', term_ar:'جَمْعُ مُذَكَّرٍ سَالِمٌ', term_id:'Jamak mudzakkar salim',
        explain_id:'Jamak berakhiran ون/ين.',
        example_ar:'مُسْلِمُونَ / مُسْلِمِينَ' },
      { cat:'shorof', term_ar:'جَمْعُ مُؤَنَّثٍ سَالِمٌ', term_id:'Jamak muannats salim',
        explain_id:'Jamak berakhiran ات.',
        example_ar:'مُعَلِّمَاتٌ' },
      { cat:'shorof', term_ar:'تَصْرِيفُ الْأَفْعَالِ', term_id:'Taṣrīf af‘āl',
        explain_id:'Perubahan fi‘il menurut waktu/ḍamīr.',
        example_ar:'أَقْرَأُ – نَقْرَأُ – يَقْرَأُ' },
    ];

    let currentCat = 'all';
    let currentSlice = [];

    function pool(){
      if (currentCat === 'nahwu') return GRAMMAR.filter(g => g.cat === 'nahwu');
      if (currentCat === 'shorof') return GRAMMAR.filter(g => g.cat === 'shorof');
      return GRAMMAR;
    }
    function pick4(){ return shuffle(pool()).slice(0, 4); }

    function renderCards(items){
      grid.innerHTML = '';
      items.forEach(v => {
        const frontHTML = `
          <div class="arabic-text ${sizeAr(v.term_ar)} font-bold text-primary-800 text-center leading-relaxed">
            ${v.term_ar}
          </div>
          <div class="${sizeId(v.term_id)} text-slate-600 text-center leading-snug">
            <span class="font-semibold">${v.term_id}</span>
          </div>
        `;
        const backHTML = `
          <div class="${sizeId(v.explain_id)} text-slate-800 text-center leading-relaxed">
            <span class="font-semibold">${v.term_id}:</span> ${v.explain_id}
          </div>
          <div class="arabic-text ${sizeAr(v.example_ar)} text-primary-800 text-center leading-relaxed">
            ${v.example_ar}
          </div>
        `;

        const card = document.createElement('button');
        card.type = 'button';
        card.className = 'card3d w-full select-none focus:outline-none';
        card.setAttribute('aria-label', v.term_id);
        card.innerHTML = `
          <div class="card3d-inner">
            <div class="card-face bg-primary-50">${frontHTML}</div>
            <div class="card-face card-back bg-white">${backHTML}</div>
          </div>
        `;
        card.addEventListener('click', () => card.classList.toggle('flipped'));
        grid.appendChild(card);
      });
    }

    function rerender(){
      currentSlice = pick4();
      renderCards(currentSlice);
    }

    function setCat(cat){
    currentCat = cat;

    // 1) Ganti tema warna pada SECTION (mengubah CSS variable untuk strip kartu)
    section.classList.remove('theme-mix','theme-nahwu','theme-shorof');
    if (cat === 'nahwu')      section.classList.add('theme-nahwu');
    else if (cat === 'shorof')section.classList.add('theme-shorof');
    else                      section.classList.add('theme-mix');

      // style tombol filter
      bAll.className    = 'px-3 py-1.5 rounded-lg ' + (cat==='all'    ? 'bg-primary-600 text-white' : 'bg-slate-100 text-slate-700') + ' font-semibold';
      bNahwu.className  = 'px-3 py-1.5 rounded-lg ' + (cat==='nahwu'  ? 'bg-primary-600 text-white' : 'bg-slate-100 text-slate-700') + ' font-semibold';
      bShorof.className = 'px-3 py-1.5 rounded-lg ' + (cat==='shorof' ? 'bg-primary-600 text-white' : 'bg-slate-100 text-slate-700') + ' font-semibold';
      rerender();
    }

    // Events
    bAll   .addEventListener('click', () => setCat('all'));
    bNahwu .addEventListener('click', () => setCat('nahwu'));
    bShorof.addEventListener('click', () => setCat('shorof'));
    bShuf  .addEventListener('click', rerender);
    bReset .addEventListener('click', () => {
      [...grid.querySelectorAll('.card3d')].forEach(el => el.classList.remove('flipped'));
    });

    // Start
    setCat('all');
  })();
})();
</script>




</body>
</html>