<!DOCTYPE html>
<html lang="id" dir="ltr">

<script src="assets/data/vocabs.js"></script>
<script src="assets/data/daily-questions.js"></script>
<script src="assets/data/materials.js"></script>
<script src="assets/data/ebooks.js"></script>




<script src="assets/theme.js"></script>

<script>
  const now = Date.now();
  const lastIntro = localStorage.getItem("arabread_intro_time");
  const fiveHours = 5 * 60 * 60 * 1000;

  if (!lastIntro || now - lastIntro > fiveHours) {
    window.location.replace("intro.html");
  }
</script>



<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ArabRead â€” Pembelajaran Membaca Bahasa Arab MTs</title>


  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: { 50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a' },
            secondary: { 100:'#dcfce7',500:'#22c55e',600:'#16a34a' }
          },
          fontFamily: { arabic: ['Amiri','Scheherazade New','serif'] }
        }
      }
    }
  </script>
  <style>
    .arabic-text { font-family: 'Amiri','Scheherazade New',serif; direction: rtl; }
  </style>

  <style>
  /* Efek 3D flip untuk kartu */
  .card3d { perspective: 1000px; }
  .card3d-inner {
    position: relative;
    width: 100%;
    height: 180px;           /* boleh kamu ubah */
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
  }
  .card3d.flipped .card3d-inner { transform: rotateY(180deg); }

  .card-face {
    position: absolute; inset: 0;
    backface-visibility: hidden;
    border-radius: 0.75rem;  /* ~ rounded-xl */
    display: grid; place-items: center;
    padding: 0.75rem;
  }
  .card-back { transform: rotateY(180deg); }

  /* === Flip 3D dasar === */
.card3d { perspective: 1000px; }
.card3d-inner {
  position: relative;
  width: 100%;
  height: 176px;                 /* tinggi seragam di mobile */
  transform-style: preserve-3d;
  transition: transform .5s ease;
}
.card3d.flipped .card3d-inner { transform: rotateY(180deg); }

.card-face {
  position: absolute; inset: 0;
  backface-visibility: hidden;
  border-radius: 0.75rem;        /* ~rounded-xl */
  border: 1px solid rgb(219 234 254);  /* blue-100 */
  display: flex; flex-direction: column; 
  justify-content: center; align-items: center;
  gap: .375rem;                  /* jarak antar baris */
  padding: .875rem;
  white-space: normal;           /* boleh multi-baris */
  overflow: hidden;              /* cegah meluber */
}
.card-back { transform: rotateY(180deg); }

/* Responsif: beri ruang lebih di layar kecil dan long text */
@media (min-width: 768px) {
  .card3d-inner { height: 192px; }      /* md: sedikit lebih tinggi */
}

/* --- Strip warna di atas kartu --- */
.card3d {
  perspective: 1000px;
  transform-style: preserve-3d;
}

.card3d-inner {
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

.card-face {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 1rem;
  overflow: hidden;
}

/* strip warna menempel pada masing-masing sisi kartu */
.card-face::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 10px;
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  background: linear-gradient(to right, #3b82f6, #2563eb);
  z-index: 2;
}

/* sisi belakang */
.card-back {
  transform: rotateY(180deg);
}

/* efek flip */
.card3d.flipped .card3d-inner {
  transform: rotateY(180deg);
}

/* === Tema warna per kategori (dipasang di #grammar-cards) === */
#grammar-cards { --accent1:#3b82f6; --accent2:#2563eb; }            /* default: Campur (biru) */
#grammar-cards.theme-mix   { --accent1:#3b82f6; --accent2:#2563eb; } /* Campur = biru */
#grammar-cards.theme-nahwu { --accent1:#3b82f6; --accent2:#2563eb; } /* Nahwu = biru (tetap) */
#grammar-cards.theme-shorof{ --accent1:#22c55e; --accent2:#16a34a; } /* Shorof = hijau */

/* Strip warna di atas tiap sisi kartu flip */
.card-face{ position:relative; overflow:hidden; }
.card-face::before{
  content:"";
  position:absolute; top:0; left:0; width:100%; height:10px;
  border-top-left-radius:1rem; border-top-right-radius:1rem;
  background: linear-gradient(to right, var(--accent1), var(--accent2));
  z-index:2;
}

/* (pastikan flip kamu sudah seperti ini supaya tidak "turun" saat dibalik) */
.card3d{ perspective:1000px; }
.card3d-inner{ position:relative; transform-style:preserve-3d; transition:transform .6s ease; }
.card3d.flipped .card3d-inner{ transform:rotateY(180deg); }
.card-face{ position:absolute; inset:0; backface-visibility:hidden; border-radius:1rem; }
.card-back{ transform:rotateY(180deg); }


</style>


<link rel="manifest" href="/arabread_website---Salin/manifest.webmanifest">
<meta name="theme-color" content="#0f766e">



</head>

<body class="relative min-h-screen bg-slate-50 dark:bg-slate-800 dark:text-slate-100">

  <!-- Header -->
  <header class="bg-primary-600 text-white">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 19.5A2.5 2.5 0 0 0 6.5 22H20M4 19.5V5.75A2.75 2.75 0 0 1 6.75 3h10.5A2.75 2.75 0 0 1 20 5.75V22M4 19.5c0-1.38 1.12-2.5 2.5-2.5H20"/></svg>
        <span class="text-2xl font-bold">Tarbiyyat al-Lughah</span>
      </div>

      
      <nav class="hidden md:flex gap-6 text-white/90">
        <a class="inline-flex items-center gap-2 hover:text-white" href="#materi">
          <i data-feather="book-open" class="w-4 h-4"></i><span class="leading-none">Materi</span>
        </a>
        <a class="inline-flex items-center gap-2 hover:text-white" href="#tentang">
          <i data-feather="info" class="w-4 h-4"></i><span class="leading-none">Tentang</span>
        </a>
      </nav>
    </div>

    <!-- Badge pengunjung online (global) -->
<div id="viewer-badge"
     class="fixed top-3 right-4 z-50 flex items-center gap-2
            bg-yellow-100/90 px-3 py-1.5 rounded-full
            shadow-md font-semibold text-sm text-gray-900">
  ğŸ‘¥ <span id="viewer-count">0</span>online
</div>

      <button id="themeToggle"
          class="fixed top-3 left-4 z-50 flex items-center gap-2
            bg-yellow-100/90 px-3 py-1.5 rounded-full
            shadow-md font-semibold text-sm text-gray-900">
          ğŸŒ™
        </button>


    
  </header>


  <!-- Hero -->
  <section class="text-center max-w-6xl mx-auto px-4 pt-10 pb-8">
    <h1 class="arabic-text text-4xl font-bold text-primary-800 dark:text-slate-300">
  Ù…ÙˆÙ‚Ø¹ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
</h1>

    <p class="mt-3 text-gray-600 dark:text-slate-300 text-lg">Media belajar interaktif untuk meningkatkan pemahaman Bahasa Arab bagi siswa MTs kelas 7.</p>
  </section>


<!-- bagian pencarian kosakata -->
 <section id="search" class="max-w-4xl mx-auto px-4 mt-8 mb-12">
  <div class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg p-6">
    <h2 class="text-2xl font-bold text-primary-700 dark:text-slate-300 mb-3">ğŸ” Cari Kosakata</h2>
    <input id="search-input"
           type="text"
           placeholder="Ketik kata Arab atau terjemahannya..."
           class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary-400 outline-none dark:text-slate-600 text-slate-600" />
    <div id="search-results" class="mt-4 text-gray-700 dark:text-slate-300"></div>
  </div>
</section>


<!-- Kartu Kosakata (Flip Cards) -->
<section id="flashcards" class="max-w-6xl mx-auto px-4 mt-10 mb-12">
  <div class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg p-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <h2 class="text-2xl font-bold text-primary-700 dark:text-slate-300">ğŸƒ Kartu Kosakata</h2>
      <div class="flex items-center gap-2">
        <span class="text-sm text-gray-600 dark:text-slate-300">Mode:</span>
        <button id="mode-ar" class="px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold">
          AR â†’ ID
        </button>
        <button id="mode-id" class="px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold">
          ID â†’ AR
        </button>
      </div>
    </div>

    <p class="text-gray-600 dark:text-slate-300 mt-2">Ketuk kartu untuk membaliknya. Cocok untuk penguatan memori kosakata.</p>

    <!-- Grid kartu -->
    <div id="card-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-5"></div>

    <!-- Kontrol -->
    <div class="mt-6 flex flex-wrap gap-3 justify-center">
      <button id="btn-shuffle"
              class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-semibold">
        ğŸ”€ Acak 4 kartu
      </button>
      <button id="btn-reset"
              class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold">
        â†º Reset
      </button>
    </div>
  </div>
</section>

<!-- Kartu Gramatikal (Campur) -->
<section id="grammar-cards" class="max-w-6xl mx-auto px-4 mt-10 mb-12">
  <div class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg p-6">

    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <h2 class="text-2xl font-bold text-primary-700 dark:text-slate-300">
        ğŸ“˜ Kartu Gramatikal
      </h2>
    </div>

    <p class="text-gray-600 dark:text-slate-300 mt-2">
      Ketuk kartu untuk melihat penjelasan singkat dan contoh.  
      Empat kartu akan ditampilkan secara acak dari seluruh materi.
    </p>

    <!-- Grid kartu -->
    <div id="gcard-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-5"></div>

    <!-- Kontrol -->
    <div class="mt-6 flex flex-wrap gap-3 justify-center">
      <button
        id="gbtn-shuffle"
        class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-semibold">
        ğŸ”€ Acak 4 kartu
      </button>

      <button
        id="gbtn-reset"
        class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold">
        â†º Reset
      </button>
    </div>

  </div>
</section>




  <!-- Materi -->
  <main id="materi" class="max-w-6xl mx-auto px-4 pb-16">
    <h2 class="text-2xl md:text-3xl font-bold text-primary-900 dark:text-slate-300 text-center mb-8">Pilih Materi Membaca</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- Kartu: Materi Gramatikal Dasar -->
<article class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
  <!-- Header berwarna (ikuti pola: primary/secondary) -->
  <div class="bg-primary-500 text-white text-center py-6">
    <h3 class="arabic-text text-2xl font-bold">Ø§Ù„Ù†Ù‘ÙØ­Ù’ÙˆÙ ÙˆÙØ§Ù„ØµÙ‘ÙØ±Ù’ÙÙ (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª)</h3>
    <p class="mt-1 text-white/90">Materi Gramatikal Dasar â€” Nahwu &amp; Shorof</p>
  </div>

  <div class="p-6 space-y-5">
    <p class="text-gray-600 dark:text-slate-300">
      Ringkasan konsep inti untuk pemula: pengertian singkat, aturan dasar, dan contoh kalimat
      berharakat agar mudah dipahami sebelum latihan membaca.
    </p>

    <!-- Tombol aksi (konsisten dengan tombol â€œMulai Belajarâ€) -->
    <a href="grammar-basics.html"
       class="flex items-center justify-center gap-2 w-full
              bg-primary-600 hover:bg-primary-700 text-white
              py-2.5 px-4 rounded-lg transition-colors h-11">
      <i data-feather="book" class="w-5 h-5 shrink-0"></i>
      <span class="leading-none font-semibold">Buka Materi</span>
    </a>

    <!-- Catatan kecil di bawah tombol (meniru pola â€œUrutan: â€¦â€) -->
    <p class="text-xs text-gray-500 dark:text-slate-300 text-center">
      Konten: Pengertian â†’ Contoh â†’ Catatan
    </p>
  </div>
</article>


      <!-- Kartu: Ta'aruf / Pengenalan -->
<article class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
  <div class="bg-secondary-500 text-white text-center py-6">
    <h3 class="arabic-text text-2xl font-bold">Ø§Ù„ØªÙ‘ÙØ¹Ø§Ø±ÙÙ</h3>
    <p class="mt-1 text-white/90">Pengenalan / Ta'aruf</p>
  </div>
  <div class="p-6 space-y-5">
    <p class="text-gray-600 dark:text-slate-300">
      Latihan membaca teks perkenalan sederhana: nama, asal, kelas, hobi, dan kalimat salam.
    </p>
    <a href="vocabulary-taaruf.html"
       class="flex items-center justify-center gap-2 w-full
              bg-primary-600 hover:bg-primary-700 text-white
              py-2.5 px-4 rounded-lg transition-colors h-11">
      <i data-feather="play" class="w-5 h-5 shrink-0"></i>
      <span class="leading-none font-semibold">Mulai Belajar</span>
    </a>
    <p class="text-xs text-gray-500 dark:text-slate-300 text-center">
      Urutan: Kosakata â†’ Baca Teks â†’ Kuis
    </p>
  </div>
</article>


      <!-- Kartu: Sekolah -->
      <article class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-primary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</h3>
          <p class="mt-1 text-white/90">Sekolah</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600 dark:text-slate-300">Latihan membaca teks sederhana tentang kegiatan di sekolah.</p>
          <a href="vocabulary-school.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 dark:text-slate-300 text-center">Urutan: Kosakata â†’ Baca Teks â†’ Kuis</p>
        </div>
      </article>

      <!-- Kartu: Keluarga -->
      <article class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-secondary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</h3>
          <p class="mt-1 text-white/90">Keluarga</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600 dark:text-slate-300">Membaca teks tentang keluarga dan mengenal kosakata anggota keluarga.</p>
          <a href="vocabulary-family.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 dark:text-slate-300 text-center">Urutan: Kosakata â†’ Baca Teks â†’ Kuis</p>
        </div>
      </article>

      <!-- Kartu: Hewan -->
      <article class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
        <div class="bg-primary-500 text-white text-center py-6">
          <h3 class="arabic-text text-2xl font-bold">Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</h3>
          <p class="mt-1 text-white/90">Hewan</p>
        </div>
        <div class="p-6 space-y-5">
          <p class="text-gray-600 dark:text-slate-300">Latihan membaca teks deskriptif tentang hewan dalam bahasa Arab.</p>
          <a href="vocabulary-animals.html"
             class="flex items-center justify-center gap-2 w-full
                    bg-primary-600 hover:bg-primary-700 text-white
                    py-2.5 px-4 rounded-lg transition-colors h-11">
            <i data-feather="play" class="w-5 h-5 shrink-0"></i>
            <span class="leading-none font-semibold">Mulai Belajar</span>
          </a>
          <p class="text-xs text-gray-500 dark:text-slate-300 text-center">Urutan: Kosakata â†’ Baca Teks â†’ Kuis</p>
        </div>
      </article>
    </div>

<!-- ===============================
     PERPUSTAKAAN E-BOOK
================================== -->
<section id="ebook-library" class="max-w-6xl mx-auto px-4 py-12">
  <div class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg p-8">

    <div class="text-center mb-8">
      <h2 class="text-2xl md:text-3xl font-bold text-primary-900 dark:text-slate-300">
        ğŸ“š Perpustakaan E-Book
      </h2>
      <p class="text-gray-600 dark:text-slate-300 mt-2">
        Bacaan mandiri untuk memperkuat keterampilan membaca Bahasa Arab
      </p>
    </div>

    <!-- Grid kategori -->
    <div id="ebook-categories"
         class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      <!-- Diisi oleh JavaScript -->
    </div>

    <!-- Daftar buku per kategori -->
<div id="ebook-list-wrapper" class="hidden mt-10">

  <div class="flex items-center justify-between mb-6">
    <h3 id="ebook-list-title"
        class="text-xl md:text-2xl font-bold text-primary-800 dark:text-slate-200">
      ğŸ“š Koleksi E-Book
    </h3>

    <button id="ebook-back"
            class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200
                   text-slate-700 font-semibold">
      â† Kembali
    </button>
  </div>

  <div id="ebook-list"
       class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    <!-- kartu buku diisi JS -->
  </div>

</div>


  </div>
</section>



<!-- ===============================
     KARTU PENGUMPULAN TUGAS (Google Form)
================================== -->
<section id="pengumpulan-tugas" class="max-w-6xl mx-auto px-4 py-12">
  <article class="bg-gradient-to-br from-slate-50 via-white to-slate-100
                  border border-slate-200 rounded-2xl shadow-lg overflow-hidden">

    <!-- Header -->
    <div class="bg-gradient-to-r from-gray-700 to-gray-900 text-white py-6 text-center">
      <h3 class="text-2xl font-bold flex items-center justify-center gap-2">
        <i data-feather="upload-cloud" class="w-6 h-6"></i>
        Pengumpulan Tugas
      </h3>
      <p class="text-sm text-gray-300 mt-1">
        Kirim hasil latihan atau proyek pembelajaran
      </p>
    </div>

    <!-- Body -->
    <div class="bg-white dark:bg-slate-700 p-8 space-y-6">

      <!-- Form Pengumpulan Tugas (Hybrid) -->
<div class="space-y-4">

  <input id="nama" type="text"
         placeholder="Nama Lengkap"
         class="w-full p-3 border border-slate-300 rounded-lg
                focus:ring-2 focus:ring-primary-400 outline-none
                dark:text-slate-700"
         required>

  <input id="kelas" type="text"
         placeholder="Kelas / Kelompok"
         class="w-full p-3 border border-slate-300 rounded-lg
                focus:ring-2 focus:ring-primary-400 outline-none
                dark:text-slate-700"
         required>

  <textarea id="catatan" rows="3"
            placeholder="Catatan (opsional)"
            class="w-full p-3 border border-slate-300 rounded-lg
                   focus:ring-2 focus:ring-primary-400 outline-none
                   dark:text-slate-700"></textarea>

  <input id="driveLink" type="url"
         placeholder="Tempel link Google Drive / Google Form"
         class="w-full p-3 border border-slate-300 rounded-lg
                focus:ring-2 focus:ring-primary-400 outline-none
                dark:text-slate-700"
         required>

  <button id="kirimTugas"
          class="w-full bg-primary-600 hover:bg-primary-700
                 text-white py-3 rounded-lg font-semibold transition">
    ğŸ“¤ Kirim Tugas
  </button>

</div>

<p class="text-xs text-center text-slate-500 dark:text-slate-300 pt-3">
  Pastikan link Drive dapat diakses oleh guru (permission: <b>Anyone with the link</b>).
</p>


    </div>
  </article>
</section>

<!-- DASBORD GURU LOGIN -->
<section id="dashboard-guru" class="max-w-6xl mx-auto px-4 py-12">
  <article class="bg-white dark:bg-slate-700
                  border border-slate-200
                  rounded-2xl shadow-lg overflow-hidden">

    <!-- Header (TIDAK DIUBAH) -->
    <div class="bg-gradient-to-r from-emerald-600 to-emerald-800
                text-white py-6 text-center">
      <h3 class="text-2xl font-bold flex items-center justify-center gap-2">
        ğŸ“Š Dashboard Guru
      </h3>
      <p class="text-sm text-emerald-100 mt-1">
        Akses khusus guru untuk melihat data pengumpulan tugas
      </p>
    </div>

    <!-- Body (LINK KE DASHBOARD) -->
    <div class="p-10 flex flex-col items-center justify-center gap-6">

      <p class="text-slate-600 dark:text-slate-300 text-center max-w-md">
        Halaman ini khusus untuk guru.  
        Silakan masuk ke dashboard untuk melihat daftar tugas siswa.
      </p>

      <a href="dashboard-guru.html"
         class="inline-flex items-center gap-3
                bg-emerald-600 hover:bg-emerald-700
                text-white font-semibold
                px-8 py-4 rounded-xl shadow-md transition">
        ğŸ” Masuk ke Dashboard Guru
      </a>

      <p class="text-xs text-slate-500 dark:text-slate-400 text-center">
        * Login akan diminta di halaman dashboard
      </p>

    </div>

  </article>
</section>





<script>feather.replace()</script>

  </main>

  <!-- Tentang -->
  <section id="tentang" class="max-w-6xl mx-auto px-4 pb-16">
    <div class="bg-white dark:bg-slate-700 rounded-2xl shadow-lg p-8">
      <h2 class="text-2xl md:text-3xl font-bold text-primary-900 dark:text-slate-300 mb-3">Tentang Tarbiyyat al-Lughah</h2>
      <p class="text-gray-700 dark:text-slate-300 leading-relaxed">
        Tarbiyyat al-Lughah adalah media pembelajaran berbasis website yang dirancang untuk meningkatkan kemampuan membaca
        (Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©) siswa MTs kelas 7. Alur belajar dibuat bertahap: <b>Kosakata â†’ Baca Teks â†’ Kuis</b>,
        agar pemahaman tumbuh secara sistematis.
      </p>
      <p class="text-gray-600 dark:text-slate-300 mt-4">Dikembangkan oleh Muh. Aprizal â€” Mahasiswa PBA IAIN Bone, 2025.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-primary-800 text-white text-center py-6">
    <p>&copy; 2025 Tarbiyyat al-Lughah â€” Media Pembelajaran Membaca Bahasa Arab MTs</p>
  </footer>

  <!-- Trigger mengambang -->
<button id="a2hs-fab"
  class="hidden fixed right-4 bottom-4 z-[60] rounded-2xl px-4 py-3 font-semibold shadow-xl
         bg-primary-600 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-300
         transition">
  â†—ï¸ Pasang Aplikasi
</button>

<!-- Backdrop -->
<div id="a2hs-backdrop"
     class="hidden fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"></div>

<!-- Bottom sheet -->
<div id="a2hs-sheet"
     class="pointer-events-none fixed inset-x-0 bottom-0 z-50 translate-y-full opacity-0
            transition-all duration-300 ease-out">
  <div
    class="pointer-events-auto mx-auto w-full max-w-md rounded-t-3xl border border-primary-100
           bg-white shadow-2xl">
    <div class="px-5 pt-4 pb-3 flex items-center gap-3">
      <div class="size-10 shrink-0 grid place-items-center rounded-xl bg-primary-100 text-primary-700">
        <svg viewBox="0 0 24 24" class="size-6" fill="currentColor"><path d="M3 5.5A2.5 2.5 0 0 1 5.5 3H20a1 1 0 0 1 1 1v14.5a.5.5 0 0 1-.79.407L18 17.25l-2.21 1.657a.5.5 0 0 1-.79-.407V5H5.5A1.5 1.5 0 0 0 4 6.5V19a1 1 0 0 1-2 0V6.5A2.5 2.5 0 0 1 3 5.5Z"/></svg>
      </div>
      <div class="min-w-0">
        <h3 class="text-base font-semibold text-primary-800">Pasang â€œTarbiyyat al-Lughahâ€</h3>
        <p class="text-sm text-slate-600">Akses cepat dari layar utama, mode offline, dan tampilan penuh layar.</p>
      </div>
    </div>

    <!-- iOS hint (hanya ditampilkan di iOS) -->
    <div id="ios-hint" class="hidden mx-5 mb-3 rounded-xl bg-slate-50 px-4 py-3 text-sm text-slate-700">
      Di Safari: ketuk <span class="font-semibold">Share</span> â†’ <span class="font-semibold">Add to Home Screen</span>.
    </div>

    <div class="px-5 pb-5 flex gap-3">
      <button id="a2hs-cancel"
        class="flex-1 rounded-xl border border-slate-200 bg-white px-4 py-3 font-semibold text-slate-700
               hover:bg-slate-50 transition">Nanti</button>
      <button id="a2hs-confirm"
        class="flex-1 rounded-xl bg-primary-600 px-4 py-3 font-semibold text-white hover:bg-primary-700
               transition">Pasang</button>
    </div>
  </div>
</div>

<!-- Snackbar -->
<div id="a2hs-snackbar"
     class="pointer-events-none fixed left-1/2 bottom-6 z-[70] -translate-x-1/2
            hidden rounded-xl bg-slate-900 text-white px-4 py-2 text-sm shadow-lg">
  Aplikasi terpasang ğŸ‰
</div>



  <!-- Feather Icons -->
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => feather.replace());</script>


<!-- Aktifkan mode global (1 angka untuk seluruh situs) -->
<script>
  window.PRESENCE_OPTIONS = { mode: "global" };
</script>

<!-- Panggil script presence -->
<script type="module" src="./assets/presence.js"></script>


<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker
        .register('/arabread_website---Salin/sw.js')
        .catch(console.error);
    });
  }
</script>

<!-- Logika Tombol -->
<script>
(() => {
  const FAB = document.getElementById('a2hs-fab');
  const SHEET = document.getElementById('a2hs-sheet');
  const BACKDROP = document.getElementById('a2hs-backdrop');
  const BTN_OK = document.getElementById('a2hs-confirm');
  const BTN_CANCEL = document.getElementById('a2hs-cancel');
  const SNACK = document.getElementById('a2hs-snackbar');
  const IOS_HINT = document.getElementById('ios-hint');

  let deferredPrompt = null;
  const NAG_KEY = 'a2hs:nag';
  const COOLDOWN = 1000 * 60 * 60 * 24 * 3; // 3 hari

  const isStandalone = window.matchMedia?.('(display-mode: standalone)').matches || window.navigator.standalone;
  const isiOS = (() => {
    const ua = navigator.userAgent;
    const iOS = /iPad|iPhone|iPod/.test(ua) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    return iOS && !isStandalone;
  })();

  const showFab = () => FAB.classList.remove('hidden');
  const hideFab = () => FAB.classList.add('hidden');

  const openSheet = () => {
    BACKDROP.classList.remove('hidden');
    SHEET.classList.remove('opacity-0','translate-y-full');
    SHEET.classList.add('opacity-100','translate-y-0');
  };
  const closeSheet = () => {
    SHEET.classList.add('opacity-0','translate-y-full');
    setTimeout(() => BACKDROP.classList.add('hidden'), 250);
  };
  const toast = (msg, ms=2400) => {
    SNACK.textContent = msg;
    SNACK.classList.remove('hidden');
    setTimeout(() => SNACK.classList.add('hidden'), ms);
  };

  if (isStandalone) hideFab();

  window.addEventListener('appinstalled', () => {
    hideFab(); localStorage.removeItem(NAG_KEY); toast('Berhasil dipasang ğŸ‰');
  });

 window.addEventListener('beforeinstallprompt', (e) => {
  console.log('âœ… Event beforeinstallprompt aktif'); // debug log
  e.preventDefault();
  deferredPrompt = e;
  const last = Number(localStorage.getItem(NAG_KEY) || 0);
  if (Date.now() - last < COOLDOWN) return;
  showFab(); // pastikan baris ini aktif
});


  FAB.addEventListener('click', () => {
  IOS_HINT.classList.toggle('hidden', !isiOS);
  hideFab();          // â¬…ï¸ sembunyikan tombol dulu
  openSheet();
});


  BACKDROP.addEventListener('click', closeSheet);
  BTN_CANCEL.addEventListener('click', () => {
    localStorage.setItem(NAG_KEY, Date.now().toString());
    closeSheet(); hideFab();
  });

  BTN_OK.addEventListener('click', async () => {
    if (isiOS) {
      localStorage.setItem(NAG_KEY, Date.now().toString());
      closeSheet(); hideFab();
      toast('Buka menu Share â†’ Add to Home Screen');
      return;
    }
    if (!deferredPrompt) { toast('Belum eligible untuk dipasang'); return; }

    closeSheet(); hideFab();
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    deferredPrompt = null;

    if (outcome === 'accepted') toast('Memasang aplikasiâ€¦');
    else {
      localStorage.setItem(NAG_KEY, Date.now().toString());
      toast('Kamu bisa memasang nanti dari menu browser');
    }
  });

  if (isiOS) {
    const last = Number(localStorage.getItem(NAG_KEY) || 0);
    if (Date.now() - last >= COOLDOWN) showFab();
  }
})();
</script>


<!-- Skript untuk pencarian kosakata -->
 <script>
const input = document.getElementById('search-input');
const results = document.getElementById('search-results');

input.addEventListener('input', () => {
  const q = input.value.trim().toLowerCase();
  results.innerHTML = '';

  if (q.length === 0) return;

  const filtered = VOCABS.filter(v =>
    v.ar.includes(q) || v.id.toLowerCase().includes(q)
  );

  if (filtered.length === 0) {
    results.innerHTML = '<p class="text-gray-500 dark:text-slate-300">Tidak ditemukan</p>';
    return;
  }

  filtered.forEach(v => {
    const item = document.createElement('div');
    item.className = 'p-2 border-b border-gray-200';
    item.innerHTML = `<span class="arabic-text text-lg text-primary-800 dark:text-300">${v.ar}</span> â€” ${v.id}`;
    results.appendChild(item);
  });
});
 </script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const input   = document.getElementById('search-input');
  const results = document.getElementById('search-results');

  if (!input || !results) return;

  // Gabungkan VOCABS + QUESTIONS
  const fromQuestions = (window.QUESTIONS || [])
    .map(q => ({ ar: q?.ar, id: q?.id }))
    .filter(x => x && typeof x.ar === 'string' && typeof x.id === 'string');

  const DATA = (window.VOCABS || []).concat(fromQuestions);

  // Hilangkan harakat Arab
  const stripHarakat = s =>
    (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

  function render(list){
    results.innerHTML = '';
    if (!list.length){
      results.innerHTML =
        '<p class="text-gray-500 dark:text-slate-300">Tidak ditemukan</p>';
      return;
    }

    list.slice(0, 30).forEach(v => {
      const row = document.createElement('div');
      row.className =
        'p-2 border-b border-gray-200 hover:bg-slate-50/10 cursor-pointer';
      row.innerHTML = `
        <span class="arabic-text text-lg text-primary-800 dark:text-slate-300">${v.ar}</span>
        â€” ${v.id}
      `;
      results.appendChild(row);
    });
  }

  function doSearch(){
    const q = input.value.trim();
    if (!q){
      results.innerHTML = '';
      return;
    }

    const qLatin = q.toLowerCase();
    const qArab  = stripHarakat(q);

    const hits = DATA.filter(v =>
      stripHarakat(v.ar).includes(qArab) ||
      v.id.toLowerCase().includes(qLatin)
    );

    render(hits);
  }

  input.addEventListener('input', doSearch);

  input.addEventListener('keydown', (e) => {
    if (e.key === 'Enter'){
      e.preventDefault();
      doSearch();
    }
  });
});
</script>


<!-- JS UNTUK LOGIKA KARTU FLIP KOSAKATA -->
<script>
(() => {
  /* =====================
     GUARD DOM
  ===================== */
  const grid   = document.getElementById('card-grid');
  const btnSh  = document.getElementById('btn-shuffle');
  const btnRs  = document.getElementById('btn-reset');
  const modeAR = document.getElementById('mode-ar');
  const modeID = document.getElementById('mode-id');

  if (!grid || !btnSh || !btnRs || !modeAR || !modeID) {
    console.warn('Flip vocab: elemen DOM tidak lengkap');
    return;
  }

  /* =====================
     AMBIL DATA
  ===================== */
  const fromQuestions = (window.QUESTIONS || [])
    .map(q => ({ ar: q?.ar, id: q?.id }))
    .filter(x => typeof x?.ar === 'string' && typeof x?.id === 'string');

  const raw = ((window.VOCABS || []).concat(fromQuestions))
    .filter(v => typeof v?.ar === 'string' && typeof v?.id === 'string');

  // deduplikasi ar|id
  const uniq = [];
  const seen = new Set();
  for (const v of raw) {
    const key = `${v.ar}|${v.id}`;
    if (!seen.has(key)) {
      seen.add(key);
      uniq.push(v);
    }
  }

  if (!uniq.length) {
    console.warn('Flip vocab: bank kosakata kosong');
    return;
  }

  /* =====================
     STATE
  ===================== */
  let mode = 'ar';          // 'ar' | 'id'
  let currentSlice = [];

  /* =====================
     UTIL
  ===================== */
  const shuffle = arr => {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  };

  const pick4 = () => shuffle(uniq).slice(0, 4);

  const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

  const sizeClassForArabic = ar => {
    const len = stripHarakat(ar).length;
    if (len > 28) return 'text-base';
    if (len > 18) return 'text-lg';
    return 'text-2xl';
  };

  const sizeClassForIndo = id => {
    const len = (id || '').length;
    if (len > 36) return 'text-sm';
    if (len > 22) return 'text-base';
    return 'text-xl';
  };

  /* =====================
     RENDER
  ===================== */
  function renderCards(items) {
    grid.innerHTML = '';

    items.forEach(v => {
      const front = mode === 'ar'
        ? `<div class="arabic-text ${sizeClassForArabic(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`
        : `<div class="${sizeClassForIndo(v.id)} font-semibold text-primary-800 text-center leading-relaxed">${v.id}</div>`;

      const back = mode === 'ar'
        ? `<div class="${sizeClassForIndo(v.id)} text-slate-800 text-center leading-relaxed">${v.id}</div>`
        : `<div class="arabic-text ${sizeClassForArabic(v.ar)} font-bold text-primary-800 text-center leading-relaxed">${v.ar}</div>`;

      const card = document.createElement('button');
      card.type = 'button';
      card.className = 'card3d w-full select-none focus:outline-none';
      card.setAttribute('aria-label', 'kartu kosakata');

      card.innerHTML = `
        <div class="card3d-inner">
          <div class="card-face bg-primary-50 border border-blue-100 shadow-sm">
            ${front}
          </div>
          <div class="card-face card-back bg-white border border-blue-100 shadow-sm">
            ${back}
          </div>
        </div>
      `;

      card.addEventListener('click', () => {
        card.classList.toggle('flipped');
      });

      grid.appendChild(card);
    });
  }

  function rerender() {
    currentSlice = pick4();
    renderCards(currentSlice);
  }

  /* =====================
     EVENTS
  ===================== */
  btnSh.addEventListener('click', rerender);

  btnRs.addEventListener('click', () => {
    grid.querySelectorAll('.card3d')
      .forEach(el => el.classList.remove('flipped'));
  });

  function setMode(newMode) {
    mode = newMode;

    if (mode === 'ar') {
      modeAR.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
      modeID.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
    } else {
      modeAR.className = 'px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 font-semibold';
      modeID.className = 'px-3 py-1.5 rounded-lg bg-primary-600 text-white font-semibold';
    }

    renderCards(currentSlice);
  }

  modeAR.addEventListener('click', () => setMode('ar'));
  modeID.addEventListener('click', () => setMode('id'));

  /* =====================
     INIT
  ===================== */
  rerender();
})();
</script>



<!-- flip kartu untuk gramatikal -->
<script>
(() => {
  /* =====================
     GUARD DOM
  ===================== */
  const grid   = document.getElementById('gcard-grid');
  const btnSh  = document.getElementById('gbtn-shuffle');
  const btnRs  = document.getElementById('gbtn-reset');
  if (!grid || !btnSh || !btnRs) {
    console.warn('Grammar cards: elemen DOM tidak lengkap');
    return;
  }

  /* =====================
     AMBIL DATA DARI MATERIALS
  ===================== */
  const RAW = window.MATERIALS || [];

  const GRAMMAR = RAW.filter(m =>
    m &&
    typeof m.term_ar === 'string' &&
    typeof m.term_id === 'string' &&
    typeof m.explain_id === 'string' &&
    typeof m.example_ar === 'string'
  );

  if (!GRAMMAR.length) {
    console.warn('Grammar cards: data MATERIALS kosong');
    return;
  }

  /* =====================
     UTIL
  ===================== */
  const stripHarakat = s => (s || '').replace(/[\u064B-\u065F\u0670]/g, '');

  const sizeAr = s => {
    const n = stripHarakat(s).length;
    if (n > 28) return 'text-base';
    if (n > 18) return 'text-lg';
    return 'text-2xl';
  };

  const sizeId = s => {
    const n = (s || '').length;
    if (n > 46) return 'text-sm';
    if (n > 28) return 'text-base';
    return 'text-lg';
  };

  const shuffle = arr => {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  };

  const pick4 = () => shuffle(GRAMMAR).slice(0, 4);

  /* =====================
     RENDER
  ===================== */
  let currentSlice = [];

  function render(items) {
    grid.innerHTML = '';

    items.forEach(v => {
      const front = `
        <div class="arabic-text ${sizeAr(v.term_ar)} font-bold text-primary-800 text-center">
          ${v.term_ar}
        </div>
        <div class="${sizeId(v.term_id)} text-slate-600 text-center mt-1">
          ${v.term_id}
        </div>
      `;

      const back = `
        <div class="${sizeId(v.explain_id)} text-slate-800 text-center leading-relaxed">
          <span class="font-semibold">${v.term_id}:</span> ${v.explain_id}
        </div>
        <div class="arabic-text ${sizeAr(v.example_ar)} text-primary-800 text-center mt-2">
          ${v.example_ar}
        </div>
      `;

      const card = document.createElement('button');
      card.type = 'button';
      card.className = 'card3d w-full select-none focus:outline-none';
      card.setAttribute('aria-label', v.term_id);

      card.innerHTML = `
        <div class="card3d-inner">
          <div class="card-face bg-primary-50">${front}</div>
          <div class="card-face card-back bg-white">${back}</div>
        </div>
      `;

      card.addEventListener('click', () =>
        card.classList.toggle('flipped')
      );

      grid.appendChild(card);
    });
  }

  function rerender() {
    currentSlice = pick4();
    render(currentSlice);
  }

  /* =====================
     EVENTS
  ===================== */
  btnSh.addEventListener('click', rerender);
  btnRs.addEventListener('click', () => {
    grid.querySelectorAll('.card3d')
      .forEach(c => c.classList.remove('flipped'));
  });

  /* =====================
     INIT
  ===================== */
  rerender();
})();
</script>



<!-- JS UNTUK DARKMODE -->
<script>
  const toggle = document.getElementById('themeToggle');
  const root = document.documentElement;

  // Load preferensi
  if (localStorage.theme === 'dark') {
    root.classList.add('dark');
    toggle.textContent = 'â˜€ï¸';
  }

  toggle.addEventListener('click', () => {
    root.classList.toggle('dark');
    const isDark = root.classList.contains('dark');
    toggle.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
    localStorage.theme = isDark ? 'dark' : 'light';
  });
</script>

<!-- JS UNTUK LOGIKA PENGUMPULAN TUGAS -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import {
    getFirestore,
    addDoc,
    collection,
    serverTimestamp
  } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAo4Hed-LHh2YIdkOE9PEinMGjG9UwAMUQ",
    authDomain: "tarbiyyat-lughah-presence.firebaseapp.com",
    projectId: "tarbiyyat-lughah-presence",
    appId: "1:543639208143:web:4456bc9abff95559f277ba"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  function isValidDriveLink(url) {
    return url.includes("drive.google.com") || url.includes("docs.google.com");
  }

  function initPengumpulanTugas() {
    const btn = document.getElementById("kirimTugas");
    if (!btn) return;

    btn.addEventListener("click", async () => {
      const nama = document.getElementById("nama").value.trim();
      const kelas = document.getElementById("kelas").value.trim();
      const catatan = document.getElementById("catatan").value.trim();
      const driveLink = document.getElementById("driveLink").value.trim();

      if (!nama || !kelas || !driveLink) {
        alert("Nama, kelas, dan link Drive wajib diisi.");
        return;
      }

      if (!isValidDriveLink(driveLink)) {
        alert("Link harus berasal dari Google Drive atau Google Form.");
        return;
      }

      btn.disabled = true;
      btn.textContent = "Mengirim...";

      try {
        await addDoc(collection(db, "submissions"), {
          nama,
          kelas,
          catatan,
          driveLink,
          createdAt: serverTimestamp(),
        });

        alert("âœ… Tugas berhasil dikirim.");

        document.getElementById("nama").value = "";
        document.getElementById("kelas").value = "";
        document.getElementById("catatan").value = "";
        document.getElementById("driveLink").value = "";
      } catch (err) {
        console.error(err);
        alert("âŒ Gagal mengirim tugas. Coba lagi.");
      } finally {
        btn.disabled = false;
        btn.textContent = "ğŸ“¤ Kirim Tugas";
      }
    });
  }

  initPengumpulanTugas();
</script>



<!-- JS UNTUK E-BOOK -->
 <script>
(() => {
  const wrap = document.getElementById('ebook-categories');
  if (!wrap || !window.EBOOKS) return;

  // Definisi kategori (FINAL)
  const CATEGORIES = {
    mts7: {
      label: 'MTs Kelas 7',
      icon: 'ğŸ“˜',
      desc: 'Buku bacaan dan materi pendukung untuk siswa kelas 7'
    },
    mts8: {
      label: 'MTs Kelas 8',
      icon: 'ğŸ“—',
      desc: 'Buku bacaan dan materi pendukung untuk siswa kelas 8'
    },
    mts9: {
      label: 'MTs Kelas 9',
      icon: 'ğŸ“•',
      desc: 'Buku bacaan dan materi pendukung untuk siswa kelas 9'
    },
    novel: {
      label: 'Novel Arab',
      icon: 'ğŸ“–',
      desc: 'Bacaan cerita dan novel ringan berbahasa Arab'
    },
    kisah: {
      label: 'Kisah Islami',
      icon: 'ğŸ•Œ',
      desc: 'Kisah teladan dan cerita Islami dalam bahasa Arab'
    }
  };

  // Ambil kategori yang benar-benar punya ebook
  const usedCategories = new Set(
    window.EBOOKS.map(e => e.category)
  );

  Object.keys(CATEGORIES).forEach(key => {
    if (!usedCategories.has(key)) return;

    const c = CATEGORIES[key];

    const card = document.createElement('article');
    card.className =
      'bg-slate-50 dark:bg-slate-800 border border-slate-200 ' +
      'rounded-2xl shadow-md p-6 flex flex-col justify-between';

    card.innerHTML = `
      <div>
        <div class="text-4xl mb-4">${c.icon}</div>
        <h3 class="text-xl font-bold text-primary-800 dark:text-slate-200">
          ${c.label}
        </h3>
        <p class="text-gray-600 dark:text-slate-300 mt-2">
          ${c.desc}
        </p>
      </div>

      <button
        data-category="${key}"
        class="mt-6 inline-flex items-center justify-center gap-2
               bg-primary-600 hover:bg-primary-700 text-white
               py-2.5 rounded-lg font-semibold transition">
        ğŸ“‚ Lihat Koleksi
      </button>
    `;

    wrap.appendChild(card);
  });
})();
</script>

<!-- PEMBUKA BUKUNYA -->
<script>
(() => {
  const catWrap   = document.getElementById('ebook-categories');
  const listWrap  = document.getElementById('ebook-list-wrapper');
  const listEl    = document.getElementById('ebook-list');
  const titleEl   = document.getElementById('ebook-list-title');
  const backBtn   = document.getElementById('ebook-back');

  if (!catWrap || !listWrap || !listEl || !window.EBOOKS) return;

  const CATEGORY_LABEL = {
    mts7: 'MTs Kelas 7',
    mts8: 'MTs Kelas 8',
    mts9: 'MTs Kelas 9',
    novel: 'Novel Arab',
    kisah: 'Kisah Islami'
  };

  // Render daftar buku
  function renderBooks(category) {
    listEl.innerHTML = '';

    const books = window.EBOOKS.filter(b => b.category === category);

    titleEl.textContent = `ğŸ“š ${CATEGORY_LABEL[category] || 'Koleksi E-Book'}`;

    if (!books.length) {
      listEl.innerHTML =
        `<p class="text-gray-500 dark:text-slate-300">
          Belum ada e-book pada kategori ini.
        </p>`;
      return;
    }

    books.forEach(b => {
      const card = document.createElement('article');
      card.className =
        'bg-white dark:bg-slate-700 border border-slate-200 ' +
        'rounded-2xl shadow-md p-6 flex flex-col justify-between';

      card.innerHTML = `
  <div class="flex gap-4 items-start">

    <!-- COVER -->
    <img src="${b.cover || 'ebooks/covers/default.png'}"
         alt="Cover ${b.title_id}"
         class="w-24 h-32 object-cover rounded-lg shadow-md flex-shrink-0">

    <!-- INFO -->
    <div class="flex-1">
      <div class="arabic-text text-lg font-bold text-primary-800 dark:text-slate-300">
        ${b.title_ar}
      </div>
      <div class="text-gray-600 dark:text-slate-300">
        ${b.title_id}
      </div>
      <div class="mt-1 text-xs text-slate-500 dark:text-slate-300">
        ğŸ“„ ${b.type.toUpperCase()}
      </div>
    </div>

  </div>

  <div class="mt-5 flex gap-2">
    <a href="${b.file}" target="_blank"
       class="flex-1 text-center bg-primary-600 hover:bg-primary-700
              text-white py-2 rounded-lg font-semibold">
      ğŸ“– Baca
    </a>

    <a href="${b.file}" download
       class="flex-1 text-center bg-slate-100 hover:bg-slate-200
              text-slate-700 py-2 rounded-lg font-semibold">
      â¬‡ï¸ Unduh
    </a>
  </div>
`;


      listEl.appendChild(card);
    });
  }

  // Klik kategori
  catWrap.addEventListener('click', (e) => {
    const btn = e.target.closest('button[data-category]');
    if (!btn) return;

    const cat = btn.dataset.category;

    catWrap.classList.add('hidden');
    listWrap.classList.remove('hidden');

    renderBooks(cat);
  });

  // Tombol kembali
  backBtn.addEventListener('click', () => {
    listWrap.classList.add('hidden');
    catWrap.classList.remove('hidden');
    listEl.innerHTML = '';
  });
})();
</script>








</body>
</html>