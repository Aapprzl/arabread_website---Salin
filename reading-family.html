<!DOCTYPE html>
<html lang="id" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>العائلة | Membaca Teks Bahasa Arab - ArabRead</title>

  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: { 500: '#3b82f6', 600: '#2563eb', 800: '#1e40af' },
            secondary: { 500: '#22c55e', 600: '#16a34a' }
          },
          fontFamily: { arabic: ['Amiri','Scheherazade New','serif'] }
        }
      }
    }
  </script>
  <style>
    .arabic-text { font-family: 'Amiri','Scheherazade New',serif; direction: rtl; }
    #translation { display: none; }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <!-- Header -->
  <header class="bg-primary-600 text-white shadow-lg">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center gap-2">
        <i data-feather="book-open" class="w-8 h-8"></i>
        <h1 class="text-2xl font-bold">ArabRead</h1>
      </div>
      <nav class="hidden md:flex gap-6">
        <a href="index.html" class="hover:text-white">Beranda</a>
        <a href="quiz-family.html" class="hover:text-white">Kuis</a>
        <a href="index.html#tentang" class="hover:text-white">Tentang</a>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="container mx-auto px-4 py-8">
    <!-- Judul -->
    <div class="text-center mb-8">
      <h1 class="arabic-text text-4xl font-bold text-primary-800 mb-2">العائلة</h1>
      <p class="text-2xl text-gray-700">Keluarga</p>
    </div>

    <!-- Card Bacaan -->
    <section class="bg-white rounded-2xl shadow-lg p-8 max-w-3xl mx-auto">
      <!-- Tombol Audio -->
      <div class="flex justify-center mb-6">
        <button id="btnPlayFamily"
          class="flex items-center justify-center w-16 h-16 rounded-full bg-secondary-500 hover:bg-secondary-600 text-white shadow-lg transition"
          aria-label="Putar Audio" aria-pressed="false">
          <i data-feather="headphones" class="w-7 h-7"></i>
        </button>
      </div>

      <!-- Audio Lokal -->
      <audio id="audioFamily" preload="metadata">
        <source src="media/audio/dialog_keluarga.mp3" type="audio/mpeg">
        Browser kamu tidak mendukung elemen audio.
      </audio>

      <!-- Teks Arab -->
      <div class="bg-gray-50 p-6 rounded-xl mb-6">
        <p class="arabic-text text-2xl leading-loose text-center">
          أُسْرَةُ أَحْمَدَ تَسْكُنُ فِي بَيْتٍ جَمِيلٍ. فِي الْعَائِلَةِ أَبٌ وَأُمٌّ وَأَخٌ وَأُخْتٌ.
          يَسْتَيْقِظُ أَحْمَدُ مُبَكِّرًا، ثُمَّ يُسَاعِدُ أُمَّهُ فِي تَرْتِيبِ الْمَائِدَةِ.
          بَعْدَ الْمَدْرَسَةِ، يَقْرَأُ الدُّرُوسَ مَعَ أَخِيهِ فِي الْغُرْفَةِ.
          فِي الْمَسَاءِ، تَجْتَمِعُ الْعَائِلَةُ وَيَتَحَدَّثُونَ مَعًا.
          أَحْمَدُ يُحِبُّ عَائِلَتَهُ كَثِيرًا.
        </p>
      </div>

      <!-- Toggle Terjemahan -->
      <div class="text-center mb-6">
        <button id="toggleTranslation" class="bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2 px-6 rounded-lg transition">
          Tampilkan Terjemahan
        </button>
      </div>

      <!-- Terjemahan -->
      <div id="translation" class="bg-primary-50 p-6 rounded-xl border border-primary-200">
        <h3 class="text-xl font-semibold text-primary-800 mb-3">Terjemahan:</h3>
        <p class="text-gray-700 leading-relaxed">
          Keluarga Ahmad tinggal di sebuah rumah yang indah. Dalam keluarga ada ayah, ibu, seorang saudara laki-laki, dan seorang saudara perempuan.
          Ahmad bangun pagi, lalu membantu ibunya menata meja makan. Setelah pulang sekolah, ia belajar pelajaran bersama saudaranya di kamar.
          Pada malam hari, keluarga berkumpul dan berbincang bersama. Ahmad sangat menyayangi keluarganya.
        </p>
      </div>

      <!-- Navigasi -->
      <div class="flex justify-between mt-8">
        <a href="index.html" class="bg-primary-600 hover:bg-primary-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center">
          <i data-feather="arrow-left" class="w-5 h-5 mr-2"></i>
          Kembali ke Beranda
        </a>
        <a href="quiz-family.html" class="bg-secondary-500 hover:bg-secondary-600 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center">
          Lanjut ke Kuis
          <i data-feather="arrow-right" class="w-5 h-5 ml-2"></i>
        </a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-primary-800 text-white text-center py-6 mt-8">
    <p>&copy; 2025 ArabRead – Tema: العائلة</p>
  </footer>

  <!-- Scripts -->
  <script>
    feather.replace();

    // Toggle Terjemahan
    document.getElementById('toggleTranslation').addEventListener('click', function() {
      const translation = document.getElementById('translation');
      const showing = translation.style.display === 'block';
      translation.style.display = showing ? 'none' : 'block';
      this.textContent = showing ? 'Tampilkan Terjemahan' : 'Sembunyikan Terjemahan';
    });

    // Audio lokal Play/Pause
    (function () {
      const btn = document.getElementById('btnPlayFamily');
      const audio = document.getElementById('audioFamily');

      function setPlayingUI(isPlaying) {
        btn.setAttribute('aria-pressed', String(isPlaying));
        btn.innerHTML = isPlaying
          ? '<i data-feather="pause" class="w-7 h-7"></i>'
          : '<i data-feather="headphones" class="w-7 h-7"></i>';
        feather.replace();
        btn.classList.toggle('ring-2', isPlaying);
        btn.classList.toggle('ring-green-300', isPlaying);
      }

      btn.addEventListener('click', async () => {
        if (audio.paused) {
          try {
            await audio.play();
            setPlayingUI(true);
          } catch (e) {
            alert('Gagal memutar audio. Pastikan file "media/audio/dialog_keluarga.mp3" tersedia.');
            console.error(e);
          }
        } else {
          audio.pause();
          setPlayingUI(false);
        }
      });

      audio.addEventListener('ended', () => setPlayingUI(false));
      audio.addEventListener('pause', () => setPlayingUI(false));
      audio.addEventListener('play', () => setPlayingUI(true));
      audio.addEventListener('error', () => {
        setPlayingUI(false);
        alert('Tidak dapat memuat audio: media/audio/dialog_keluarga.mp3');
      });
    })();
  </script>
</body>
</html>
